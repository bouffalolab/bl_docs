<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>34. LowPower &mdash; BL808 参考手册  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="35. SEC ENG" href="SEC_ENG.html" />
    <link rel="prev" title="33. IPC" href="IPC.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BL808 参考手册
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="SystemAndMemoryOverview.html">1. 系统和存储器概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResetAndClock.html">2. 复位和时钟</a></li>
<li class="toctree-l1"><a class="reference internal" href="GLB.html">3. GLB</a></li>
<li class="toctree-l1"><a class="reference internal" href="GPIO.html">4. GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADC.html">5. ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DAC.html">6. DAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA.html">7. DMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA2D.html">8. DMA2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lz4d.html">9. LZ4D</a></li>
<li class="toctree-l1"><a class="reference internal" href="DBI.html">10. DBI</a></li>
<li class="toctree-l1"><a class="reference internal" href="DPI.html">11. DPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="DSI.html">12. DSI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cam.html">13. CAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="IR.html">14. IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="SPI.html">15. SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="UART.html">16. UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2C.html">17. I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="PWM.html">18. PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TIMER.html">19. TIMER</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2s.html">20. I2S</a></li>
<li class="toctree-l1"><a class="reference internal" href="PDM.html">21. PDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="AUDIO.html">22. AUDIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="PSRAM.html">23. PSRAM Contorller</a></li>
<li class="toctree-l1"><a class="reference internal" href="Emac.html">24. Emac</a></li>
<li class="toctree-l1"><a class="reference internal" href="USB.html">25. USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDH.html">26. SDH</a></li>
<li class="toctree-l1"><a class="reference internal" href="ISO11898.html">27. ISO11898</a></li>
<li class="toctree-l1"><a class="reference internal" href="MJPEG.html">28. MJPEG</a></li>
<li class="toctree-l1"><a class="reference internal" href="JDEC.html">29. JDEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="VENC.html">30. VENC</a></li>
<li class="toctree-l1"><a class="reference internal" href="NPUtoolchain.html">31. NPU toolchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="NPU.html">32. NPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="IPC.html">33. IPC</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">34. LowPower</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">34.1. 概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">34.2. 主要特征</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">34.3. 功能描述</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">34.3.1. 电源域</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">34.3.2. 唤醒源</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">34.3.3. 功耗模式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io">34.3.4. IO 保持</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id7">34.4. 寄存器描述</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hbn-time-l">34.4.1. HBN_TIME_L</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hbn-time-h">34.4.2. HBN_TIME_H</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SEC_ENG.html">35. SEC ENG</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">36. 版本信息</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BL808 参考手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">34. </span>LowPower</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lowpower">
<h1><span class="section-number">34. </span>LowPower<a class="headerlink" href="#lowpower" title="永久链接至标题"></a></h1>
<section id="id1">
<h2><span class="section-number">34.1. </span>概述<a class="headerlink" href="#id1" title="永久链接至标题"></a></h2>
<p>低功耗是物联网应用的一项重要指标。芯片的处理器包含3种功耗模式，包含工作模式、
空闲省电模式和休眠模式，可以根据当前应用场景选择合适的功耗模式，降低芯片功耗延长电池寿命。</p>
<figure class="align-center" id="id8">
<img alt="../_images/LPPwrSt.png" src="../_images/LPPwrSt.png" />
<figcaption>
<p><span class="caption-number">图 34.1 </span><span class="caption-text">低功耗模式</span><a class="headerlink" href="#id8" title="永久链接至图片"></a></p>
</figcaption>
</figure>
</section>
<section id="id2">
<h2><span class="section-number">34.2. </span>主要特征<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>时钟控制:GLB中对各外设的时钟控制，小范围的省电，响应速度较快</p></li>
<li><p>睡眠控制 (PDS) : 包含PDS1/2/3/7这4个等级，大范围省电，响应速度中等</p></li>
<li><p>深度睡眠控制 (HBN) : 包含HBN0/1/2/3这4个等级，全局省电，响应时间长</p></li>
</ul>
</section>
<section id="id3">
<h2><span class="section-number">34.3. </span>功能描述<a class="headerlink" href="#id3" title="永久链接至标题"></a></h2>
<section id="id4">
<h3><span class="section-number">34.3.1. </span>电源域<a class="headerlink" href="#id4" title="永久链接至标题"></a></h3>
<p>BL808 芯片中有 7 个电源域，每个电源域的主要功能如下所示：</p>
<ul>
<li><p>PD_AON_RTC</p>
<blockquote>
<div><ul class="simple">
<li><p>保留 RC32K/XTAL32K 控制寄存器</p></li>
<li><p>RTC Counter 时钟源选择功能</p></li>
<li><p>RTC 可以用于唤醒，也可用于 LED 闪烁</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_AON</p>
<blockquote>
<div><ul class="simple">
<li><p>HBN状态机控制电源/隔离/复位/时钟</p></li>
<li><p>保持内部电压输出选择</p></li>
<li><p>AON_PIN（GPIO9/10/11/12/13/40/41） 引脚唤醒控制</p></li>
<li><p>HBN_OUT0_PIR（Acomp0/Acomp1/bor/pir）唤醒屏蔽和使能寄存器、中断状态寄存器</p></li>
<li><p>BOR（Brown Out Reset）设置功能</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_AON_HBNCORE</p>
<blockquote>
<div><ul class="simple">
<li><p>部分电源控制寄存器</p></li>
<li><p>4KB的HBN_RAM，用于在进入PDS/HBN模式前保存程序数据，进入PDS/HBN后数据不会消失</p></li>
<li><p>PIR数字控制，PIR是热释电红外传感器，HBN区域内的一个外设，可以用作HBN唤醒源</p></li>
<li><p>AON_PIN 控制和 在 HBN 或 PDS 模式下 IO 保持功能</p></li>
<li><p>Acomp0 、Acomp1 配置 ， GPADC 时钟源选择和配置</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_CORE</p>
<blockquote>
<div><ul class="simple">
<li><p>HBN状态机控制电源/隔离/复位/时钟</p></li>
<li><p>64KB保留RAM</p></li>
<li><p>WIFI/BLE计时器控制</p></li>
<li><p>160KB WRAM/EM</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_CORE_MISC_DIG</p>
<blockquote>
<div><ul class="simple">
<li><p>M0 CPU及其外设</p></li>
<li><p>芯片全局寄存器</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_USB</p>
<blockquote>
<div><ul class="simple">
<li><p>USB 数字控制器</p></li>
</ul>
</div></blockquote>
</li>
<li><p>PD_MM</p>
<blockquote>
<div><ul class="simple">
<li><p>D0 CPU及其外设、PSRAM</p></li>
<li><p>Codec</p></li>
<li><p>VRAM 32~96KB</p></li>
<li><p>BLAI</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>每个电源域都由 9 个不同的电源模式控制，具体的控制方式如下表所示：</p>
<table class="colwidths-given docutils align-center" id="id9" style="width: 100%">
<caption><span class="caption-number">表 34.1 </span><span class="caption-text">电源模式</span><a class="headerlink" href="#id9" title="永久链接至表格"></a></caption>
<colgroup>
<col style="width: 5%" />
<col style="width: 10%" />
<col style="width: 13%" />
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>NO.</p></th>
<th class="head" rowspan="2"><p>Scenario</p></th>
<th class="head" colspan="7"><p>Power Domain</p></th>
</tr>
<tr class="row-even"><th class="head"><p>PD_AON_RTC</p></th>
<th class="head"><p>PD_AON</p></th>
<th class="head"><p>PD_AON_HBNCORE</p></th>
<th class="head"><p>PD_CORE</p></th>
<th class="head"><p>PD_CORE_MISC_DIG</p></th>
<th class="head"><p>PD_USB</p></th>
<th class="head"><p>PD_MM</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Normal</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>PDS1</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>PDS2</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>PDS3</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>PDS7</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>HBN0</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>HBN1</p></td>
<td><p>ON</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>HBN2</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>HBN3</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
</tbody>
</table>
<p>注：</p>
<ul class="simple">
<li><p>进入 HBN2 模式需要芯片先进入 HBN1 后，再断开 VDDIO2 电。</p></li>
<li><p>在 HBN2 模式下只保留 RTC_Timer ，但是不做唤醒；退出 HBN2 模式只需重新供 VDDIO2。</p></li>
<li><p>VDD33_RTC/ VDDIO2(AON) 共用 pin 的封装 (QFN88 Type2, QFN68) 没有 HBN2 模式。</p></li>
<li><p>进入 HBN3 模式需要断电 pu_chip ，HBN3 模式将关闭大部分电源，仅 RTC 电源可以通过 rtc_pu_chip_sel 选择是否关掉 RTC 电源。</p></li>
</ul>
<p>rtc_pu_chip_sel 为 1，RTC 电源一直保持； rtc_pu_chip_sel 为 0，RTC 电源被 pu_chip 控制。rtc_pu_chip_sel 值在封装时决定。</p>
</section>
<section id="id5">
<h3><span class="section-number">34.3.2. </span>唤醒源<a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<p>芯片内部支持多种唤醒源，可从不同电源模式中唤醒。</p>
<p>PDS1/2/3可以通过以下方式唤醒：</p>
<ul class="simple">
<li><p>HBN 唤醒源</p></li>
<li><p>所有 GPIO 唤醒</p></li>
<li><p>红外接收器</p></li>
<li><p>BLE 唤醒事件</p></li>
<li><p>WIFI 唤醒事件</p></li>
<li><p>PDS 计时器</p></li>
</ul>
<p>其余电源模式的唤醒源如下表所示：</p>
<table class="colwidths-given docutils align-center" id="id10" style="width: 100%">
<caption><span class="caption-number">表 34.2 </span><span class="caption-text">唤醒源</span><a class="headerlink" href="#id10" title="永久链接至表格"></a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>电源模式</p></th>
<th class="head"><p>唤醒源</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PDS7</p></td>
<td><p>PDS计时器/PSD_PIN/RTC/AON_PIN/BOR/Pir/Acomp0/Acomp1</p></td>
</tr>
<tr class="row-odd"><td><p>HBN0</p></td>
<td><p>RTC/AON_PIN/BOR/Pir/Acomp0/Acomp1</p></td>
</tr>
<tr class="row-even"><td><p>HBN1</p></td>
<td><p>RTC/AON_PIN</p></td>
</tr>
<tr class="row-odd"><td><p>HBN2</p></td>
<td><p>重新供 VDDIO2</p></td>
</tr>
<tr class="row-even"><td><p>HBN3</p></td>
<td><p>重新供 pu_chip</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id6">
<h3><span class="section-number">34.3.3. </span>功耗模式<a class="headerlink" href="#id6" title="永久链接至标题"></a></h3>
<p><strong>工作模式</strong></p>
<p>芯片提供处理器与外设独立的时钟控制，在 GLB 和时钟的章节介绍对各模块的时钟控制，软件可以根据当前应用场景，对于不需要使用的处理器或外设进行时钟控制。
时钟控制的反应是实时的，在此工作模式下，不需要担心响应时间。</p>
<p><strong>掉电睡眠模式(PDS)</strong></p>
<p>掉电模式相较于工作模式功耗较低。进入PDS模式后，将 RTC(Real Time Clock) 之外的时钟进行管控，会切换为内部低速时钟，并将外部晶振与PLL
关闭达到更加省电的状态，因此进入与离开此低功耗模式会有时间延迟。当进入掉电睡眠模式时，OCRAM 区域的数据可以自动进入 retention 状态而保留
下来，当唤醒后可以自行退出 retention 状态。</p>
<ol class="arabic simple">
<li><p>进入空闲省电模式</p></li>
</ol>
<p>软件可通过 PDS 配置让此模块进入掉电模式，等待处理，进入等待中断模式 (WFI) 后，PDS 模
块会触发时钟控制模块进入gate clock操作，并通知模拟电路关闭PLL以及外部晶振</p>
<ol class="arabic simple" start="2">
<li><p>离开空闲省电模式</p></li>
</ol>
<p>离开空闲省电模式的方式有两种，第一是空闲中间有特定的中断或事件打断空闲状态，第二是软件设定PDS_TIM
的时间达到，两者均会触发 PDS 模块离开掉电模式。注意：因为打开晶振需要
约 1ms 的时间，PDS 提供软件提前打开晶振的方式，这个做法可以加速 PDS 醒来。
当 PDS 模块准备醒来时，此模块会通过中断通知处理器离开等待中断模式 (WFI)。</p>
<p><strong>休眠模式(HBN)</strong></p>
<p>休眠模式在保留 AON(Always On) 电源的状态下，将大部分的芯片逻辑进行断电 (Vcore)，直到收到外
部事件才会将内部电路唤醒的。
在休眠模式下可以达到极致的省电状态，但相对于前两者需要的响应时间也最长，适合长时间不需要工作
的状态下，可以进入此状态，延长电池寿命。
休眠时期会将大部分的电路断电，对应的寄存器值和内存的数据也会消失。因此 HBN 内部留有 4KB HBN_RAM，这个
内存在 HBN0 模式时不会断电，软件有需要保存的资料或状态可以在进入休眠前拷贝到这个内存。从休眠
恢复时，可以直接从 RAM 中存取数据，通常可以用作状态的纪录或是数据快速恢复。</p>
</section>
<section id="io">
<h3><span class="section-number">34.3.4. </span>IO 保持<a class="headerlink" href="#io" title="永久链接至标题"></a></h3>
<p>IO 保持可以分为 AON_IO 保持和 PDS_IO 保持。
PDS0/1/2/3 模式下，由于 芯片 MISC domain 仍有电，所以 GPIO 可被 glb 寄存器控制。
当 glb 寄存器被断电之后，可由 AON_CTRL 和 PDS 简单控制 AON_IO 和 PDS_IO 的 IE/PD/PU。</p>
<p><strong>AON_IO</strong></p>
<p>AON_IO 指 GPIO9/10/11/12/13/14/15/40/41 。GPIO40/41 默认作为 XTAL32K 输入和输出使用 (要改成其它 pinmux 用途才可以作为 AON_IO 使用）
当 GPIO40/41 的 IE/OE 都被设为 0 时，GPIO40/41 复用模拟功能  XTAL32K_INXTAL32K_OUT ; 相反，当 GPIO40/41 的 IE/OE 不都为 0 时，GPIO40/41 用作普通 IO 功能。
例如，GPIO40 作为普通 IO 功能具体配置如下：reg_en_aon_ctrl_gpio[7] 和 reg_aon_pad_oe[7] 配为 0，reg_aon_pad_ie_smt[7] 配为 1。</p>
<p>1、硬件 IO 保持
HBN 可以控制 AON_IO 的 IE/PD/PU/OE/O ,从而实现 IO 保持。
reg_en_aon_ctrl_gpio 为 1 时，AON_IO 的上拉使能由 reg_aon_gpio_pu 控制，下拉使能由 reg_aon_gpio_pd 控制，OE 由 reg_aon_gpio_oe 控制，
AON PAD O 分别由 aon_led_out[0]、[1]、[2] 控制。而 IE/SMT ，无论 reg_en_aon_ctrl_gpio 的值是 0 还是 1，都可以由 reg_aon_gpio_ie_smt 控制。
例如， reg_en_aon_ctrl_gpio 为 0，即使 reg_aon_pad_pu 为 1，也不能实现上拉，但是 reg_aon_gpio_ie_smt 为 1，可以实现 IE 功能。</p>
<p>2、软件 IO 保持
将 reg_aon_gpio_iso_mode 配置为 1 后, 进入 HBN 模式时, AON PAD 可以保持 OEO , PUPD 不能保持；等到 HBN 唤醒后, AON PAD 状态仍会保持着，
需要把 reg_aon_gpio_iso_mode 请 0 后, 才会离开 IO 保持状态。
例如，GPIO40 在 HBN 模式下保持高电平，需要先将其配为 普通 IO 功能，然后用 glb 寄存器配置为输出高电平，最后将 reg_aon_gpio_iso_mode 配置为 1 后, 进入 HBN 模式。</p>
<p><strong>PDS_IO</strong></p>
<p>PDS_IO 指除 AON_IO 以外的其他 GPIO ，共 32 个 GPIO ，按 PAD 的物理位置分为 3 组：</p>
<ul class="simple">
<li><p>左面 : GPIO0~8</p></li>
<li><p>右面 : GPIO16~23</p></li>
<li><p>上面 : GPIO24~39</p></li>
</ul>
<p>1、硬件 IO 保持
PDS_IO 的 IE/PD/PU 可由 pds_gpio_i_set 寄存器控制，相同的组 GPIO 必须保持相同的电平。
例如， GPIO0 是配置为上拉，那么 GPIO8 也是配置为上拉的。</p>
<p>2、软件 IO 保持
当 cr_pds_gpio_iso_mode 为 1 时，进入 PDS7 模式后，如果 cr_pds_gpio_kee_en[0]、[1]、[2] 为 1 ，GPIO0~8、GPIO16~23、GPIO24~38分别进入 GPIO 保持状态，
等到 PDS7 唤醒后, PDS_IO 状态仍会保持着，需要把 cr_pds_gpio_iso_mode 请 0 后, 才会离开 IO 保持状态。
这种 IO 保持方式的优势是可以实现同一组 GPIO 保持不同的电平。</p>
</section>
</section>
<section id="id7">
<h2><span class="section-number">34.4. </span>寄存器描述<a class="headerlink" href="#id7" title="永久链接至标题"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 71%" />
<col style="width: 29%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>描述</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hbn-time-l">HBN_TIME_L</a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hbn-time-h">HBN_TIME_H</a></p></td>
<td></td>
</tr>
</tbody>
</table>
<section id="hbn-time-l">
<h3><span class="section-number">34.4.1. </span>HBN_TIME_L<a class="headerlink" href="#hbn-time-l" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2000f004</p>
<figure class="align-center">
<img alt="../_images/HBN_HBN_TIME_L.svg" src="../_images/HBN_HBN_TIME_L.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:0</p></td>
<td><p>hbn_time_l</p></td>
<td><p>r/w</p></td>
<td><p>32'h0</p></td>
<td><p>RTC timer compare bit 31:0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hbn-time-h">
<h3><span class="section-number">34.4.2. </span>HBN_TIME_H<a class="headerlink" href="#hbn-time-h" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2000f008</p>
<figure class="align-center">
<img alt="../_images/HBN_HBN_TIME_H.svg" src="../_images/HBN_HBN_TIME_H.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:8</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>7:0</p></td>
<td><p>hbn_time_h</p></td>
<td><p>r/w</p></td>
<td><p>8'h0</p></td>
<td><p>RTC timer compare bit 39:32</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="IPC.html" class="btn btn-neutral float-left" title="33. IPC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="SEC_ENG.html" class="btn btn-neutral float-right" title="35. SEC ENG" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>