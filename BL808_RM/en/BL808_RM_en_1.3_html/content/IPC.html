<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>32. IPC &mdash; BL808 Reference Manual  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="33. LowPower" href="LowPower.html" />
    <link rel="prev" title="31. NPU" href="NPU.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BL808 Reference Manual
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="SystemAndMemoryOverview.html">1. System and Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResetAndClock.html">2. Reset and Clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="GLB.html">3. GLB</a></li>
<li class="toctree-l1"><a class="reference internal" href="GPIO.html">4. GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADC.html">5. ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DAC.html">6. DAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA.html">7. DMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA2D.html">8. DMA2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lz4d.html">9. LZ4D</a></li>
<li class="toctree-l1"><a class="reference internal" href="DBI.html">10. DBI</a></li>
<li class="toctree-l1"><a class="reference internal" href="DPI.html">11. DPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="DSI.html">12. DSI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cam.html">13. CAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="IR.html">14. IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="SPI.html">15. SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="UART.html">16. UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2C.html">17. I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="PWM.html">18. PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TIMER.html">19. TIMER</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2s.html">20. I2S</a></li>
<li class="toctree-l1"><a class="reference internal" href="PDM.html">21. PDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="AUDIO.html">22. AUDIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="PSRAM.html">23. PSRAM Contorller</a></li>
<li class="toctree-l1"><a class="reference internal" href="Emac.html">24. Emac</a></li>
<li class="toctree-l1"><a class="reference internal" href="USB.html">25. USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDH.html">26. SDH</a></li>
<li class="toctree-l1"><a class="reference internal" href="MJPEG.html">27. MJPEG</a></li>
<li class="toctree-l1"><a class="reference internal" href="JDEC.html">28. JDEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="VENC.html">29. VENC</a></li>
<li class="toctree-l1"><a class="reference internal" href="NPUtoolchain.html">30. NPU toolchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="NPU.html">31. NPU</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">32. IPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">32.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#features">32.2. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functional-description">32.3. Functional Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-principle">32.3.1. Basic Principle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operating-process">32.3.2. Operating Process</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="LowPower.html">33. LowPower</a></li>
<li class="toctree-l1"><a class="reference internal" href="SEC_ENG.html">34. SEC ENG</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">35. Revision history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BL808 Reference Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">32. </span>IPC</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ipc">
<h1><span class="section-number">32. </span>IPC<a class="headerlink" href="#ipc" title="Permalink to this headline"></a></h1>
<section id="overview">
<h2><span class="section-number">32.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>The Interprocessor Communication (IPC) is a communication mechanism between multi-core processors.
BL808 has three heterogeneous cores, and any two cores can communicate with each other through IPC.</p>
</section>
<section id="features">
<h2><span class="section-number">32.2. </span>Features<a class="headerlink" href="#features" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Each core has an independent 32-bit IPC channel</p></li>
<li><p>Any two cores can communicate with each other</p></li>
</ul>
</section>
<section id="functional-description">
<h2><span class="section-number">32.3. </span>Functional Description<a class="headerlink" href="#functional-description" title="Permalink to this headline"></a></h2>
<section id="basic-principle">
<h3><span class="section-number">32.3.1. </span>Basic Principle<a class="headerlink" href="#basic-principle" title="Permalink to this headline"></a></h3>
<p>Each core has six IPC registers: IPCx_TRI, IPCx_STS, IPCx_ACK, IPCx_IEN, IPCx_IDIS and IPCx_ISTS. The length of each register is 32-bit, and each bit corresponds to one channel of IPC. The cores M0, LP and D0 correspond to IPC0, IPC1 and IPC2 respectively. When one core needs to issue a notification to another, it only needs to write “1” to the corresponding channel of IPCx_TRI of the receiving core. At this time, the corresponding channel of IPCx_STS of the receiving core is set to “1”. If the interrupt of the corresponding IPC channel of the receiving core is also enabled, an interrupt will be received, indicating that the receiving core receives the notification from the other core.</p>
</section>
<section id="operating-process">
<h3><span class="section-number">32.3.2. </span>Operating Process<a class="headerlink" href="#operating-process" title="Permalink to this headline"></a></h3>
<p>For example, the core x sends a notification to the core Y, and the channel z is used. The operation flow is as follows:</p>
<ul class="simple">
<li><p>The core y enables the interrupt of channel z. That is, the core y performs operation IPCy_IEN = 1&lt;&lt;z</p></li>
<li><p>The core x writes 1 to the bit z in the register IPCy_TRI. That is, core x performs operation IPCy_TRI = 1&lt;&lt;z</p></li>
<li><p>Upon receiving the interrupt, the core y responds to the core x. That is, the core y performs operation IPCy_ACK = 1&lt;&lt;z</p></li>
<li><p>The core y performs the notified application layer related operation</p></li>
</ul>
<p>The operation flow is as follows:</p>
<figure class="align-center" id="id1">
<img alt="../_images/IPCFlow.svg" src="../_images/IPCFlow.svg" /><figcaption>
<p><span class="caption-number">Fig. 32.1 </span><span class="caption-text">IPC Flow</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="NPU.html" class="btn btn-neutral float-left" title="31. NPU" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="LowPower.html" class="btn btn-neutral float-right" title="33. LowPower" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>