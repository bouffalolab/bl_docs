<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. Functional Description &mdash; BL808 Datasheet  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Pin Definition" href="Pindefinition.html" />
    <link rel="prev" title="1. Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BL808 Datasheet
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Functional Description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cpu">2.1. CPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cache">2.2. Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memory">2.3. Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dma">2.4. DMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memory-map">2.5. Memory Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interrupt">2.6. Interrupt</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boot">2.7. Boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#power">2.8. Power</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clock">2.9. Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="#peripheral">2.10. Peripheral</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gpio">2.10.1. GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart">2.10.2. UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spi">2.10.3. SPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2c">2.10.4. I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2s">2.10.5. I2S</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emac">2.10.6. EMAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timer">2.10.7. TIMER</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pwm">2.10.8. PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ir-ir-remote">2.10.9. IR(IR-remote)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pdm">2.10.10. PDM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#video-encoding">2.11. Video encoding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">2.11.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">2.11.2. Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#and-sensor-and-display-interface">2.12. And sensor and display interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#and-sensor">2.12.1. And sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#and-monitor">2.12.2. And monitor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Pindefinition.html">3. Pin Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="RFCharacteristic.html">4. RF Characteristsic</a></li>
<li class="toctree-l1"><a class="reference internal" href="AudioCharacteristic.html">5. Audio characteristic</a></li>
<li class="toctree-l1"><a class="reference internal" href="PowerConsumption.html">6. Power Consumption</a></li>
<li class="toctree-l1"><a class="reference internal" href="Electricalcharacteristics.html">7. Electrical Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="ProductUse.html">8. Product use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Referencedesign.html">9. Reference Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="PackagingQFN88.html">10. Package Information(QFN88)</a></li>
<li class="toctree-l1"><a class="reference internal" href="TopMarkingDefinition.html">11. Top Marking Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="OrderingInformation.html">12. Ordering Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">13. Revision history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BL808 Datasheet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">2. </span>Functional Description</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="functional-description">
<h1><span class="section-number">2. </span>Functional Description<a class="headerlink" href="#functional-description" title="Permalink to this headline"></a></h1>
<p>BL808  main functions described as follows:</p>
<figure class="align-center" id="id1">
<img alt="../_images/SystemArch.svg" src="../_images/SystemArch.svg" /><figcaption>
<p><span class="caption-number">Fig. 2.1 </span><span class="caption-text">System Architecture</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="cpu">
<h2><span class="section-number">2.1. </span>CPU<a class="headerlink" href="#cpu" title="Permalink to this headline"></a></h2>
<p>BL808 contains multiple RISC-V processors inside.</p>
<p>M0 is a 32-bit RISC-V CPU with a 5-stage pipeline structure, supports RISC-V 32/16-bit mixed instruction set, contains
64
external interrupt sources, and 4 bits can be used to configure interrupt priority.</p>
<p>D0 is a 64-bit RISC-V CPU with a 5-stage pipeline structure, supports the RISC-V RV64IMAFCV instruction architecture, contains
67
external interrupt sources, and 3 bits can be used to configure the interrupt priority.</p>
</section>
<section id="cache">
<h2><span class="section-number">2.2. </span>Cache<a class="headerlink" href="#cache" title="Permalink to this headline"></a></h2>
<p>The cache of BL808 improves the performance of CPU accessing external memory. M0 contains 32K instruction cache and 16K data cache;
D0 contains 32K instruction cache and 32K data cache.</p>
</section>
<section id="memory">
<h2><span class="section-number">2.3. </span>Memory<a class="headerlink" href="#memory" title="Permalink to this headline"></a></h2>
<p>BL808 memory includes: on-chip zero-delay SRAM memory, read-only memory, write-once memory,
Embedded flash (optional), embedded pSRAM (optional).</p>
</section>
<section id="dma">
<h2><span class="section-number">2.4. </span>DMA<a class="headerlink" href="#dma" title="Permalink to this headline"></a></h2>
<p>The DMA controller has 20 dedicated channels (8 channels each for DMA0 and DMA2, and 4 channels for DMA1) to manage data transfers between peripherals and memory to improve CPU/bus efficiency. DMA has four transfer types, memory-to-memory, memory-to-peripheral, peripheral-to-memory, and peripheral-to-peripheral modes.</p>
<p>The DMA also supports the LLI (Linked List Item) feature, which consists of a series of linked lists that predefine multiple transfers, and then the hardware automatically completes all transfers based on the size and address of each LLI.
Peripherals supported by DMA include UART, I2C, SPI, ADC, IR, GPIO, Audio, I2S, PDM, DBI, DSI.</p>
</section>
<section id="memory-map">
<h2><span class="section-number">2.5. </span>Memory Map<a class="headerlink" href="#memory-map" title="Permalink to this headline"></a></h2>
<table class="colwidths-given docutils align-center" id="id2" style="width: 100%">
<caption><span class="caption-number">Table 2.1 </span><span class="caption-text">Memory Map</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 15%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>Module</p></th>
<th class="head" rowspan="2"><p>Size</p></th>
<th class="head" colspan="2"><p>Base Address(M0)</p></th>
<th class="head" colspan="2"><p>Base Address(D0)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cache</p></th>
<th class="head"><p>Non-cache</p></th>
<th class="head"><p>Cache</p></th>
<th class="head"><p>Non-cache</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>OCRAM(MCU)</p></td>
<td><p>64KB</p></td>
<td><p>0x62020000</p></td>
<td><p>0x22020000</p></td>
<td><p>-</p></td>
<td><p>0x22020000</p></td>
</tr>
<tr class="row-even"><td><p>WRAM(MCU)</p></td>
<td><p>160KB</p></td>
<td><p>0x62030000</p></td>
<td><p>0x22030000</p></td>
<td><p>-</p></td>
<td><p>0x22030000</p></td>
</tr>
<tr class="row-odd"><td><p>DRAM(MM)</p></td>
<td><p>512KB</p></td>
<td><p>-</p></td>
<td><p>0x3EF80000</p></td>
<td><p>0x3EF80000</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>VRAM(MM)</p></td>
<td><p>32KB</p></td>
<td><p>-</p></td>
<td><p>0x3F000000</p></td>
<td><p>0x3F000000</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
<p>OCRAM and WRAM can be accessed either through AHB bus or through AXI. When the CPU accesses OCRAM using the address of 0x62020000, it will go through the internal cache and transfer AXI to AHB to achieve access to OCRAM. When the CPU uses the 0x22020000 address to access OCRAM, it does not go through the internal cache and directly accesses OCRAM through the AHB bus.</p>
<table class="colwidths-given docutils align-center" id="id3" style="width: 100%">
<caption><span class="caption-number">Table 2.2 </span><span class="caption-text">Memory Map</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 8%" />
<col style="width: 55%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Module</p></td>
<td><p>Target</p></td>
<td><p>Base Address</p></td>
<td><p>Size</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>pSRAM</p></td>
<td><p>pSRAM</p></td>
<td><p>0x54000000</p></td>
<td><p>64MB</p></td>
<td><p>pSRAM memory address space, actual size depends on chip model</p></td>
</tr>
<tr class="row-odd"><td><p>XRAM</p></td>
<td><p>XRAM</p></td>
<td><p>0x40000000</p></td>
<td><p>16KB</p></td>
<td><p>XRAM memory address space</p></td>
</tr>
<tr class="row-even"><td><p>FLASH</p></td>
<td><p>FlashA</p></td>
<td><p>0x58000000</p></td>
<td><p>64MB</p></td>
<td><p>Application address space, the actual size depends on the chip model</p></td>
</tr>
<tr class="row-odd"><td rowspan="8"><p>MMPERI</p></td>
<td><p>TIMER1</p></td>
<td><p>0x30009000</p></td>
<td><p>4KB</p></td>
<td><p>TIMER1 control register</p></td>
</tr>
<tr class="row-even"><td><p>SPI1</p></td>
<td><p>0x30008000</p></td>
<td><p>4KB</p></td>
<td><p>SPI1 control register</p></td>
</tr>
<tr class="row-odd"><td><p>MM_GLB</p></td>
<td><p>0x30007000</p></td>
<td><p>4KB</p></td>
<td><p>Multimedia side global register</p></td>
</tr>
<tr class="row-even"><td><p>DMA2D</p></td>
<td><p>0x30006000</p></td>
<td><p>4KB</p></td>
<td><p>DMA2D control register</p></td>
</tr>
<tr class="row-odd"><td><p>I2C3</p></td>
<td><p>0x30004000</p></td>
<td><p>4KB</p></td>
<td><p>I2C3 control register</p></td>
</tr>
<tr class="row-even"><td><p>I2C2</p></td>
<td><p>0x30003000</p></td>
<td><p>4KB</p></td>
<td><p>I2C2 control register</p></td>
</tr>
<tr class="row-odd"><td><p>UART3</p></td>
<td><p>0x30002000</p></td>
<td><p>4KB</p></td>
<td><p>UART3 control register</p></td>
</tr>
<tr class="row-even"><td><p>DMA2</p></td>
<td><p>0x30001000</p></td>
<td><p>4KB</p></td>
<td><p>DMA2 control register</p></td>
</tr>
<tr class="row-odd"><td rowspan="23"><p>MCUPERI</p></td>
<td><p>DMA1</p></td>
<td><p>0x20071000</p></td>
<td><p>4KB</p></td>
<td><p>DMA1 control register</p></td>
</tr>
<tr class="row-even"><td><p>EMAC</p></td>
<td><p>0x20070000</p></td>
<td><p>4KB</p></td>
<td><p>EMAC control register</p></td>
</tr>
<tr class="row-odd"><td><p>AUDIO</p></td>
<td><p>0x20055000</p></td>
<td><p>4KB</p></td>
<td><p>Audio control register</p></td>
</tr>
<tr class="row-even"><td><p>USB</p></td>
<td><p>0x20072000</p></td>
<td><p>4KB</p></td>
<td><p>USB control register</p></td>
</tr>
<tr class="row-odd"><td><p>HBN</p></td>
<td><p>0x2000F000</p></td>
<td><p>4KB</p></td>
<td><p>Hibernate register</p></td>
</tr>
<tr class="row-even"><td><p>PDS</p></td>
<td><p>0x2000E000</p></td>
<td><p>4KB</p></td>
<td><p>Power-Down sleep register</p></td>
</tr>
<tr class="row-odd"><td><p>DMA0</p></td>
<td><p>0x2000C000</p></td>
<td><p>4KB</p></td>
<td><p>DMA0 control register</p></td>
</tr>
<tr class="row-even"><td><p>I2S</p></td>
<td><p>0x2000AB00</p></td>
<td><p>256B</p></td>
<td><p>I2S control register</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>ISO11898</p>
<p>UART2</p>
</td>
<td><p>0x2000AA00</p></td>
<td><p>256B</p></td>
<td><p>ISO11898 bus control register</p></td>
</tr>
<tr class="row-even"><td><p>0x2000AA00</p></td>
<td><p>256B</p></td>
<td><p>UART2 control register</p></td>
</tr>
<tr class="row-odd"><td><p>I2C1</p></td>
<td><p>0x2000A900</p></td>
<td><p>256B</p></td>
<td><p>I2C1 control register</p></td>
</tr>
<tr class="row-even"><td><p>IR</p></td>
<td><p>0x2000A600</p></td>
<td><p>256B</p></td>
<td><p>IR control register</p></td>
</tr>
<tr class="row-odd"><td><p>TIMER0</p></td>
<td><p>0x2000A500</p></td>
<td><p>256B</p></td>
<td><p>TIMER0 control register</p></td>
</tr>
<tr class="row-even"><td><p>PWM</p></td>
<td><p>0x2000A400</p></td>
<td><p>256B</p></td>
<td><p>PWM control register</p></td>
</tr>
<tr class="row-odd"><td><p>I2C0</p></td>
<td><p>0x2000A300</p></td>
<td><p>256B</p></td>
<td><p>I2C0 control register</p></td>
</tr>
<tr class="row-even"><td><p>SPI0</p></td>
<td><p>0x2000A200</p></td>
<td><p>256B</p></td>
<td><p>SPI0 control register</p></td>
</tr>
<tr class="row-odd"><td><p>UART1</p></td>
<td><p>0x2000A100</p></td>
<td><p>256B</p></td>
<td><p>UART1 control register</p></td>
</tr>
<tr class="row-even"><td><p>UART0</p></td>
<td><p>0x2000A000</p></td>
<td><p>256B</p></td>
<td><p>UART0 control register</p></td>
</tr>
<tr class="row-odd"><td><p>eFuse</p></td>
<td><p>0x20056000</p></td>
<td><p>4KB</p></td>
<td><p>eFuse memory control register</p></td>
</tr>
<tr class="row-even"><td><p>TZ</p></td>
<td><p>0x20005000</p></td>
<td><p>4KB</p></td>
<td><p>Security Zone partition</p></td>
</tr>
<tr class="row-odd"><td><p>SEC_ENG</p></td>
<td><p>0x20004000</p></td>
<td><p>4KB</p></td>
<td><p>Security engine control register</p></td>
</tr>
<tr class="row-even"><td><p>GPIP</p></td>
<td><p>0x20002000</p></td>
<td><p>1KB</p></td>
<td><p>General purpose DAC/ADC/ACOMP interface control register</p></td>
</tr>
<tr class="row-odd"><td><p>GLB</p></td>
<td><p>0x20000000</p></td>
<td><p>4KB</p></td>
<td><p>Global control register</p></td>
</tr>
<tr class="row-even"><td><p>ROM</p></td>
<td><p>ROM</p></td>
<td><p>0x90000000</p></td>
<td><p>128KB</p></td>
<td><p>Bootrom address space</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-center" id="id4" style="width: 100%">
<caption><span class="caption-number">Table 2.3 </span><span class="caption-text">MRAM/VRAM address space</span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 7%" />
<col style="width: 13%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2" rowspan="2"><p>MRAM/VRAM</p></th>
<th class="head" colspan="8"><p>Configure(reg_h2pf_sram_rel，reg_vram_sram_sel，reg_ispl_sram_rel，reg_blai_sram_rel)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>0，0，0，0</p></th>
<th class="head"><p>0，0，0，1</p></th>
<th class="head"><p>1，0，0，0</p></th>
<th class="head"><p>3，0，0，0</p></th>
<th class="head"><p>0，0，1，0</p></th>
<th class="head"><p>0，1，0，0</p></th>
<th class="head"><p>2，0，0，1</p></th>
<th class="head"><p>3，1，1，1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="8"><p>MRAM</p></td>
<td><p>0x3EF80000 - 0x3EF8FFFF</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-even"><td><p>0x3EF90000 - 0x3EF9FFFF</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-odd"><td><p>0x3EFA0000 - 0x3EFAFFFF</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-even"><td><p>0x3EFB0000 - 0x3EFBFFFF</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-odd"><td><p>0x3EFC0000 - 0x3EFCFFFF</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-even"><td><p>0x3EFD0000 - 0x3EFDFFFF</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-odd"><td><p>0x3EFE0000 - 0x3EFEFFFF</p></td>
<td><p>-</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-even"><td><p>0x3EFF0000 - 0x3EFFFFFF</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
<td><p>64K</p></td>
</tr>
<tr class="row-odd"><td><p>VRAM</p></td>
<td><p>0x3F000000 - 0x3F007FFF</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
<td><p>32K</p></td>
</tr>
</tbody>
</table>
</section>
<section id="interrupt">
<h2><span class="section-number">2.6. </span>Interrupt<a class="headerlink" href="#interrupt" title="Permalink to this headline"></a></h2>
<p>BL808 supports internal RTC clock wake-up and external interrupt wake-up to realize low-power sleep wake-up function.</p>
<p>The CPU interrupt controller supports a total of
131
maskable interrupt trigger sources including UART interrupt, I2C interrupt, SPI interrupt, timer interrupt, DMA interrupt, etc.</p>
<p>All I/O pins can be configured as external interrupt input mode, the external interrupt supports nine trigger types: synchronous high/low level trigger, synchronous rising/falling edge trigger, asynchronous high/low level trigger, asynchronous rising edge /Falling edge trigger and synchronous double edge trigger.</p>
</section>
<section id="boot">
<h2><span class="section-number">2.7. </span>Boot<a class="headerlink" href="#boot" title="Permalink to this headline"></a></h2>
<p>BL808 supports multiple boot options: UART, USB, and Flash.</p>
<table class="colwidths-given docutils align-center" id="id5" style="width: 100%">
<caption><span class="caption-number">Table 2.4 </span><span class="caption-text">Boot mode</span><a class="headerlink" href="#id5" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 8%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Boot pin</p></th>
<th class="head"><p>Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>GPIO39</p></td>
<td><p>1</p></td>
<td><p>Boot from UART(GPIO14/15)/USB, this mode is mainly used for Flash download or download image to RAM</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Launch application image from Flash</p></td>
</tr>
</tbody>
</table>
</section>
<section id="power">
<h2><span class="section-number">2.8. </span>Power<a class="headerlink" href="#power" title="Permalink to this headline"></a></h2>
<p>PMU (power management unit) manages the power of the entire chip and is divided into running, idle, sleep, hibernation and power off modes. The software can be configured to enter sleep mode and wake-up via RTC timer or EINT to achieve low-power sleep and accurate wake-up management.</p>
<p>Power down sleep modes are flexible for applications to configure as the lowest power consumption.</p>
</section>
<section id="clock">
<h2><span class="section-number">2.9. </span>Clock<a class="headerlink" href="#clock" title="Permalink to this headline"></a></h2>
<p>Clock control unit generates clocks to the core MCU and the peripheral SOC devices. The root clock source can be XTAL, PLL or RC oscillator.
Dynamic power-saved by proper configurations such as sel, div, en, etc.</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/SystemClock.svg"><img alt="../_images/SystemClock.svg" src="../_images/SystemClock.svg" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.2 </span><span class="caption-text">System Clock Architecture</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id7">
<img alt="../_images/MoudleClock.svg" src="../_images/MoudleClock.svg" /><figcaption>
<p><span class="caption-number">Fig. 2.3 </span><span class="caption-text">Moudle Clock Architecture</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/PeripheralClock.svg"><img alt="../_images/PeripheralClock.svg" src="../_images/PeripheralClock.svg" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.4 </span><span class="caption-text">Peripheral Clock Architecture</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="peripheral">
<h2><span class="section-number">2.10. </span>Peripheral<a class="headerlink" href="#peripheral" title="Permalink to this headline"></a></h2>
<p>Peripherals include USB2.0, Ethernet, SD/MMC, SPI, UART, I2C, I2S, PWM, GPDAC/GPADC/, ACOMP, PIR, Touch, IR remote, Display and GPIO.</p>
<section id="gpio">
<h3><span class="section-number">2.10.1. </span>GPIO<a class="headerlink" href="#gpio" title="Permalink to this headline"></a></h3>
<p>BL808C can have up to 40 GPIOs, BL808D can have up to 36 GPIOs,
with the following features:</p>
<ul class="simple">
<li><p>Each GPIO can be used as general purpose input and output function, pull-up/pull-down/float can be configured by software</p></li>
<li><p>Each GPIO supports interrupt function, the interrupt supports synchronous high/low level trigger, synchronous rising/falling edge trigger, asynchronous high/low level trigger, asynchronous rising/falling edge trigger and synchronous double edge trigger</p></li>
<li><p>Each GPIO can be set to high impedance state for low power mode</p></li>
</ul>
</section>
<section id="uart">
<h3><span class="section-number">2.10.2. </span>UART<a class="headerlink" href="#uart" title="Permalink to this headline"></a></h3>
<p>The chip has four built-in UARTs (UART0/1/2/3) with the following features:</p>
<ul class="simple">
<li><p>Supports CTS and RTS flow control in hardware</p></li>
<li><p>Support LIN master/slave function</p></li>
<li><p>Configurable data bits, stop bits and parity bits</p></li>
<li><p>Supports automatic baud rate detection for common/fixed characters</p></li>
<li><p>The working clock can be selected as BCLK, XCLK or 160MHz, the maximum baud rate supports 10Mbps</p></li>
<li><p>TX and RX have independent FIFO, FIFO depth is 32 bytes, support DMA function</p></li>
</ul>
</section>
<section id="spi">
<h3><span class="section-number">2.10.3. </span>SPI<a class="headerlink" href="#spi" title="Permalink to this headline"></a></h3>
<p>The chip has two built-in SPIs, which can be configured as master mode or slave mode. The SPI module clock is XCLK or 160MHz, and has the following characteristics:</p>
<ul>
<li><p>In master mode, clock frequency up to 80 MHz</p></li>
<li><p>In slave mode, the maximum allowed master clock frequency is 80 MHz</p></li>
<li><p>The bit width of each frame can be configured as 8bit/16bit/24bit/32bit</p></li>
<li><p>Adaptive FIFO depth change characteristics, suitable for high-performance scene applications</p>
<blockquote>
<div><ul class="simple">
<li><p>When the bit width is 32 bits, the depth of the FIFO is 8</p></li>
<li><p>When the bit width is 24 bits, the depth of the FIFO is 8</p></li>
<li><p>When the bit width is 16 bits, the depth of the FIFO is 16</p></li>
<li><p>When the bit width is 8 bits, the depth of the FIFO is 32</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Support DMA transfer mode</p></li>
</ul>
</section>
<section id="i2c">
<h3><span class="section-number">2.10.4. </span>I2C<a class="headerlink" href="#i2c" title="Permalink to this headline"></a></h3>
<p>The chip has four built-in I2C interfaces with the following features:</p>
<ul class="simple">
<li><p>Support multi-master mode and arbitration function</p></li>
<li><p>The working clock can be selected as BCLK or XCLK</p></li>
<li><p>With device address register, register address register, register address length can be set to 1 byte / 2 bytes / 3 bytes / 4 bytes</p></li>
<li><p>I2C has independent transceiver FIFO, FIFO depth is 2 words</p></li>
<li><p>Support DMA function</p></li>
</ul>
</section>
<section id="i2s">
<h3><span class="section-number">2.10.5. </span>I2S<a class="headerlink" href="#i2s" title="Permalink to this headline"></a></h3>
<p>The chip has a built-in I2S interface with the following features:</p>
<ul class="simple">
<li><p>Support master mode and slave mode</p></li>
<li><p>Support Left-justified/ Right-justified/ DSP and other data formats, the data width can be configured as 8/16/24/32 bits</p></li>
<li><p>The working clock can be selected as BCLK or XCLK</p></li>
<li><p>Supports both four-channel and six-channel modes in addition to mono/dual-channel mode</p></li>
<li><p>Supports playback of mono audio dubbing to binaural mode</p></li>
<li><p>Support dynamic mute switching function</p></li>
<li><p>I2S has independent transceiver FIFO, FIFO depth is 16 words</p></li>
<li><p>Support DMA function</p></li>
</ul>
</section>
<section id="emac">
<h3><span class="section-number">2.10.6. </span>EMAC<a class="headerlink" href="#emac" title="Permalink to this headline"></a></h3>
<p>The EMAC module is a 10/100Mbps Ethernet Media Access Controller (Ethernet MAC) compatible with IEEE 802.3, has the following characteristics:</p>
<ul class="simple">
<li><p>Compatible with the MAC layer defined by IEEE 802.3</p></li>
<li><p>PHY supporting MII/RMII interface defined by IEEE 802.3</p></li>
<li><p>Interacts with PHY through MDIO interface</p></li>
<li><p>Supports 10 Mbps and 100 Mbps Ethernet</p></li>
<li><p>Supports half-duplex and full-duplex</p></li>
<li><p>Supports automatic flow control and control frame generation in the full-duplex mode</p></li>
<li><p>Supports collision detection and retransmission in the half-duplex mode</p></li>
<li><p>Supports the generation and verification of CRC</p></li>
<li><p>Generates and removes data frame preamble</p></li>
<li><p>Supports automatic extension of short data frames when sending</p></li>
<li><p>Detects too long/short data frames (length limit)</p></li>
<li><p>Transmits long data frames (&gt; standard Ethernet frame length)</p></li>
<li><p>Automatically discards data packets with over-limit retransmission times or too small frame gap</p></li>
<li><p>Broadcast packet filtering</p></li>
<li><p>Internal RAM for storing up to 128 BDs</p></li>
<li><p>Splits and configures a data packet to multiple consecutive Bds when sending</p></li>
<li><p>Various event flags sent or received</p></li>
<li><p>Generates a corresponding interrupt when an event occurs</p></li>
</ul>
<p>The EMAC timing diagram is shown below:</p>
<figure class="align-center" id="id9">
<img alt="../_images/EMACTiming.svg" src="../_images/EMACTiming.svg" /><figcaption>
<p><span class="caption-number">Fig. 2.5 </span><span class="caption-text">EMAC Timing Diagram</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<table class="colwidths-given docutils align-center" id="id10" style="width: 100%">
<caption><span class="caption-number">Table 2.5 </span><span class="caption-text">Timing conditions for using RX Clock</span><a class="headerlink" href="#id10" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="7"><p>Set the corresponding bit of register eth_cfg0:cfg_inv_eth_rx_clk = 1,cfg_inv_eth_tx_clk = 0,cfg_sel_eth_ref_clk_o = 0</p></th>
</tr>
<tr class="row-even"><th class="head" colspan="2"><p>Timing parameters(1.8V, Load = 20PF)</p></th>
<th class="head"><p>Min.</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>Max.</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>T<sub>cyc</sub></p></td>
<td><p>Clock Cycle</p></td>
<td><p>-</p></td>
<td><p>20</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>Clock From ETH PHY</p></td>
</tr>
<tr class="row-even"><td><p>T<sub>vld</sub></p></td>
<td><p>Output Valid Delay</p></td>
<td><p>10.37</p></td>
<td><p>-</p></td>
<td><p>22</p></td>
<td><p>ns</p></td>
<td><p>TXD/TX_EN</p></td>
</tr>
<tr class="row-odd"><td><p>T<sub>su</sub></p></td>
<td><p>Input Setup Time</p></td>
<td><p>6</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>RXD/RX_DV/RXERR</p></td>
</tr>
<tr class="row-even"><td><p>T<sub>h</sub></p></td>
<td><p>Input Hold Time</p></td>
<td><p>0</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>RXD/RX_DV/RXERR</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-center" id="id11" style="width: 100%">
<caption><span class="caption-number">Table 2.6 </span><span class="caption-text">Timing conditions without using RX Clock</span><a class="headerlink" href="#id11" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="7"><p>Set the corresponding bit of register eth_cfg0:cfg_inv_eth_rx_clk = 0,cfg_inv_eth_tx_clk = 0,cfg_sel_eth_ref_clk_o = 0</p></th>
</tr>
<tr class="row-even"><th class="head" colspan="2"><p>Timing parameters(1.8V, Load = 20PF)</p></th>
<th class="head"><p>Min.</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>Max.</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>T<sub>cyc</sub></p></td>
<td><p>Clock Cycle</p></td>
<td><p>-</p></td>
<td><p>20</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>Clock From ETH PHY</p></td>
</tr>
<tr class="row-even"><td><p>T<sub>vld</sub></p></td>
<td><p>Output Valid Delay</p></td>
<td><p>10.374</p></td>
<td><p>-</p></td>
<td><p>22</p></td>
<td><p>ns</p></td>
<td><p>TXD/TX_EN</p></td>
</tr>
<tr class="row-odd"><td><p>T<sub>su</sub></p></td>
<td><p>Input Setup Time</p></td>
<td><p>5</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>RXD/RX_DV/RXERR</p></td>
</tr>
<tr class="row-even"><td><p>T<sub>h</sub></p></td>
<td><p>Input Hold Time</p></td>
<td><p>3</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>ns</p></td>
<td><p>RXD/RX_DV/RXERR</p></td>
</tr>
</tbody>
</table>
</section>
<section id="timer">
<h3><span class="section-number">2.10.7. </span>TIMER<a class="headerlink" href="#timer" title="Permalink to this headline"></a></h3>
<p>The chip has two built-in 32-bit general-purpose timers and a watchdog timer with the following features:</p>
<ul class="simple">
<li><p>The clock source of the general timer can be selected from FCLK/32K/XTAL, and the clock source of the watchdog timer can be selected from FCLK/32K/XTAL</p></li>
<li><p>8-bit divider for each counter</p></li>
<li><p>Each group of general-purpose timers includes three compare registers, supports compare interrupts, and supports FreeRun mode and PreLoad mode in counting mode</p></li>
<li><p>16-bit watchdog timer, supports two watchdog overflow methods: interrupt or reset</p></li>
</ul>
</section>
<section id="pwm">
<h3><span class="section-number">2.10.8. </span>PWM<a class="headerlink" href="#pwm" title="Permalink to this headline"></a></h3>
<p>The chip has built-in 2 groups of PWM signals, each group contains 4 channels of PWM signal output, each channel can be set to 2 channels of complementary PWM, with the following characteristics:</p>
<ul class="simple">
<li><p>Three clock sources BCLK/XCLK/32K</p></li>
<li><p>Frequency divider register and period register are 16-bit wide</p></li>
<li><p>Each channel PWM supports adjustable output polarity, dual threshold setting, increasing the flexibility of pulse output</p></li>
<li><p>Each channel PWM has independent dead time setting</p></li>
<li><p>Each PWM has an independent connection switch to choose whether to connect with the internal counter, and can set the default output level when not connected</p></li>
<li><p>Software brake and external brake signal can put the PWM output level into a preset state</p></li>
<li><p>Up to 11 trigger sources that can be used to trigger ADC conversions</p></li>
</ul>
</section>
<section id="ir-ir-remote">
<h3><span class="section-number">2.10.9. </span>IR(IR-remote)<a class="headerlink" href="#ir-ir-remote" title="Permalink to this headline"></a></h3>
<p>The chip has a built-in infrared remote control with the following features:</p>
<ul class="simple">
<li><p>Support both sending and receiving modes</p></li>
<li><p>Supports up to 128-bit data bits to be sent in non-free mode, and can continuously send data of any length in free mode</p></li>
<li><p>Supports receiving data with fixed protocols NEC, RC-5, and receiving data in any format with pulse width counting</p></li>
<li><p>The clock source is XCLK, and the maximum operating frequency is 32MHz. It has powerful infrared waveform editing capabilities, and can send waveforms that conform to various protocols. The transmit power is adjustable in 15 levels</p></li>
<li><p>Receive FIFO depth is 128 bytes, transmit FIFO depth is 16 bytes</p></li>
<li><p>Transmit supports DMA mode</p></li>
</ul>
</section>
<section id="pdm">
<h3><span class="section-number">2.10.10. </span>PDM<a class="headerlink" href="#pdm" title="Permalink to this headline"></a></h3>
<p>The chip has a built-in PDM audio processing module with the following features:</p>
<ul>
<li><p>Integrated 3-channel digital filter, can support 3-channel digital microphone input</p>
<blockquote>
<div><ul class="simple">
<li><p>Sampling rate: 8k~48k</p></li>
<li><p>SNR &gt; 110dB</p></li>
<li><p>Data valid bit width 20 bit</p></li>
<li><p>Digital gain: -95.5 ~ +32.5dB, 0.5dB step</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Independently adjustable three-channel high-pass filter</p></li>
<li><p>Multiplexed GPIO input (1 clock output, 2 data input)</p></li>
<li><p>Transmit FIFO width 32bit, depth 48</p></li>
<li><p>Support DMA transfer mode</p></li>
</ul>
</section>
</section>
<section id="video-encoding">
<h2><span class="section-number">2.11. </span>Video encoding<a class="headerlink" href="#video-encoding" title="Permalink to this headline"></a></h2>
<section id="introduction">
<h3><span class="section-number">2.11.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h3>
<p>VENC adopts the H264 video coding standard, which is mainly compressed by means of prediction and motion compensation, and uses loop filtering to improve the image quality, taking into account the requirements of code stream transmission and image quality.</p>
</section>
<section id="features">
<h3><span class="section-number">2.11.2. </span>Features<a class="headerlink" href="#features" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>1920x1080p &#64; 30fps + 640x480 &#64; 30fps, BP/MP</p></li>
<li><p>Input: Semi-Planar YCbCr 4:2:0</p></li>
<li><p>Output: NALU(Network Abstract Layer Uint) in byte stream format</p></li>
<li><p>CBR/VBR mode</p></li>
<li><p>Up to 8 ROIs</p></li>
<li><p>Up to 16 OSD coding areas</p></li>
<li><p>Support software mode and linkage mode</p></li>
<li><p>Dynamically configurable max/min quantization parameters</p></li>
<li><p>Dynamically configurable I/P frame target bits</p></li>
<li><p>Dynamically configurable I-frame distance</p></li>
</ul>
</section>
</section>
<section id="and-sensor-and-display-interface">
<h2><span class="section-number">2.12. </span>And sensor and display interface<a class="headerlink" href="#and-sensor-and-display-interface" title="Permalink to this headline"></a></h2>
<section id="and-sensor">
<h3><span class="section-number">2.12.1. </span>And sensor<a class="headerlink" href="#and-sensor" title="Permalink to this headline"></a></h3>
<ul>
<li><p>MIPI-CSI</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Support 1-/2-lane mode</p></li>
<li><p>Support hardware decoding (RAW8/10/12/14, RGB565/888, YUV422 8-/10-bit) or software decoding</p></li>
</ol>
</div></blockquote>
</li>
<li><p>DVP</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Support RAW 12-bit data</p></li>
<li><p>Support YUV/RGB 8-bit format</p></li>
<li><p>Support image compression mode</p></li>
</ol>
</div></blockquote>
</li>
</ul>
</section>
<section id="and-monitor">
<h3><span class="section-number">2.12.2. </span>And monitor<a class="headerlink" href="#and-monitor" title="Permalink to this headline"></a></h3>
<ul>
<li><p>MIPI-DSI</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Support 1-/2-/4-lane mode</p></li>
<li><p>Support RGB565/666/888 and YUV422 8-bit format</p></li>
<li><p>Support Sync Event Mode or Sync Pulse Mode</p></li>
<li><p>Support Escape Mode, and can be used with DMA function</p></li>
</ol>
</div></blockquote>
</li>
<li><p>MIPI-DBI</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Support Type-B (8-bit), Type-C Option 1 (3-wire) and Type-C Option 3 (4-wire) modes</p></li>
<li><p>Support RGB565/666/888 format</p></li>
<li><p>Built-in YUV2RGB conversion module</p></li>
<li><p>Support DMA function</p></li>
</ol>
</div></blockquote>
</li>
<li><p>MIPI-DPI</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Support data 16-bit mode</p></li>
<li><p>Support RGB565 format</p></li>
</ol>
</div></blockquote>
</li>
<li><p>QSPI</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>CMD/ADDR/DATA can choose 1-/4-wire mode arbitrarily, so QSPI 111/114/144/444 mode can be supported</p></li>
<li><p>Support RGB565/666/888 format</p></li>
<li><p>Built-in YUV2RGB conversion module</p></li>
<li><p>Support DMA function</p></li>
</ol>
</div></blockquote>
</li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="1. Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Pindefinition.html" class="btn btn-neutral float-right" title="3. Pin Definition" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>