<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>17. EMAC &mdash; BL616/BL618 参考手册  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="18. USB" href="USB.html" />
    <link rel="prev" title="16. AudioADC" href="AudioADC.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BL616/BL618 参考手册
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="SystemAndMemoryOverview.html">1. 系统和存储器概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResetAndClock.html">2. 复位和时钟</a></li>
<li class="toctree-l1"><a class="reference internal" href="GLB.html">3. GLB</a></li>
<li class="toctree-l1"><a class="reference internal" href="GPIO.html">4. GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADC.html">5. ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DAC.html">6. DAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA.html">7. DMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="IR.html">8. IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="SPI.html">9. SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="UART.html">10. UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2C.html">11. I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="PWM.html">12. PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TIMER.html">13. TIMER</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2S.html">14. I2S</a></li>
<li class="toctree-l1"><a class="reference internal" href="AudioDAC.html">15. AudioDAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="AudioADC.html">16. AudioADC</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">17. EMAC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">17.1. 简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">17.2. 主要特征</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">17.3. 功能描述</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">17.4. 时钟</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bd-buffer-descriptor">17.5. 收发缓冲描述符(BD, Buffer Descriptor)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#phy">17.6. PHY 交互</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">17.7. EMAC 工作流程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">17.7.1. PHY 初始化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">17.7.2. 发送数据帧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">17.7.3. 接收数据帧</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">17.8. 寄存器描述</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mode">17.8.1. MODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#int-source">17.8.2. INT_SOURCE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#int-mask">17.8.3. INT_MASK</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ipgt">17.8.4. IPGT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packetlen">17.8.5. PACKETLEN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collconfig">17.8.6. COLLCONFIG</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tx-bd-num">17.8.7. TX_BD_NUM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miimode">17.8.8. MIIMODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miicommand">17.8.9. MIICOMMAND</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miiaddress">17.8.10. MIIADDRESS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miitx-data">17.8.11. MIITX_DATA</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miirx-data">17.8.12. MIIRX_DATA</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miistatus">17.8.13. MIISTATUS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mac-addr0">17.8.14. MAC_ADDR0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mac-addr1">17.8.15. MAC_ADDR1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hash0-addr">17.8.16. HASH0_ADDR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hash1-addr">17.8.17. HASH1_ADDR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#txctrl">17.8.18. TXCTRL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USB.html">18. USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cam.html">19. CAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="MJPEG.html">20. MJPEG</a></li>
<li class="toctree-l1"><a class="reference internal" href="DBI.html">21. DBI</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDH.html">22. SDH</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDIO.html">23. SDIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="LowPower.html">24. LowPower</a></li>
<li class="toctree-l1"><a class="reference internal" href="SEC_ENG.html">25. SEC ENG</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">26. 版本信息</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BL616/BL618 参考手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">17. </span>EMAC</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="emac">
<h1><span class="section-number">17. </span>EMAC<a class="headerlink" href="#emac" title="永久链接至标题"></a></h1>
<section id="id1">
<h2><span class="section-number">17.1. </span>简介<a class="headerlink" href="#id1" title="永久链接至标题"></a></h2>
<p>EMAC(Ethernet Media Access Controller) 模块是一个支持 10/100Mbps 的以太网 MAC, 兼容 <a class="reference external" href="https://www.ieee802.org/3/">IEEE 802.3</a> 以太网技术标准 。
EMAC 模块中包括状态及控制寄存器组，数据收发模块，数据收发缓冲描述符组，主机接口， MDIO(Managenment Data Input/Output) 接口和物理层芯片(PHY)接口。</p>
<p>状态及控制寄存器组包含了 EMAC 的状态位及控制位，该寄存器组是与用户程序的接口，可以控制数据收发，并检查 EMAC 状态。</p>
<p>数据收发模块负责根据收发描述符内的控制字，从指定内存位置取得数据帧并添加前导或 CRC 数据，经扩充后将该短帧发送给 PHY 并通过 PHY 发出；
或者是从 PHY 接收数据，并根据收发缓冲描述符，将数据放入指定内存。收发完成后设置相关的事件标志。如果使能了事件中断，将产生中断信号请求主机进行处理。</p>
<p>MDIO 模块通过 RMII 接口与 PHY 进行通信，包括读写 PHY 的寄存器，以及数据包的收发。</p>
</section>
<section id="id2">
<h2><span class="section-number">17.2. </span>主要特征<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>兼容 IEEE 802.3 定义的 MAC 层功能</p></li>
<li><p>支持 IEEE 802.3 定义的 RMII 接口的 PHY</p></li>
<li><p>支持通过 MDIO 接口与 PHY 交互</p></li>
<li><p>支持 10Mbps 与 100Mbps 以太网</p></li>
<li><p>支持半双工与全双工模式</p></li>
<li><p>在全双工模式下，支持自动流控及生成控制帧</p></li>
<li><p>在半双工模式下，支持碰撞检测及重传</p></li>
<li><p>支持 CRC 的生成及校验</p></li>
<li><p>支持数据帧前导生成及移除</p></li>
<li><p>发送时，支持自动扩展短的数据帧</p></li>
<li><p>支持检测过长或过短的数据帧(长度限制)</p></li>
<li><p>支持传输长数据帧(大于标准以太帧长度)</p></li>
<li><p>支持自动丢弃重发次数超限或帧间隙过小的数据包</p></li>
<li><p>支持广播包过滤</p></li>
<li><p>最大支持保存 128 个 BD(Buffer Descriptor)</p></li>
<li><p>在发送时，支持将一个数据包分拆配置到多个连续的 BD</p></li>
<li><p>支持发送/接收的各种事件标志，并支持在事件发生时产生对应中断</p></li>
</ul>
</section>
<section id="id3">
<h2><span class="section-number">17.3. </span>功能描述<a class="headerlink" href="#id3" title="永久链接至标题"></a></h2>
<p>EMAC模块的组成如下图。</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../_images/EMAC.svg"><img alt="../_images/EMAC.svg" src="../_images/EMAC.svg" /></a>
<figcaption>
<p><span class="caption-number">图 17.1 </span><span class="caption-text">EMAC 框图</span><a class="headerlink" href="#id10" title="永久链接至图片"></a></p>
</figcaption>
</figure>
<p>模块的控制寄存器通过 MDIO 接口，可以读写 PHY 的寄存器，从而实现配置、选择模式(半/全双工)、发起协商等操作。
接收模块过滤并检查收到的数据帧：是否有合法的前导，帧校验序列(FCS)检查，长度检查等，并根据缓冲描述符(BD)，将数据存放到指定内存地址。
发送模块根据数据缓冲描述符，从内存中取得数据，添加前导，帧校验序列(FCS)，和 PAD 以及其他需要填充的信息，然后根据 CSMA/CD 协议，将数据发出。
如果检测到 CRS(Carrier Sense) 载波侦测信号，将会延迟重试。
收发缓冲描述符组从系统 RAM 中分配，此 RAM 空间用于保存发送和接收的以太网数据帧。每个描述符包含相应的控制状态字以及对应的缓冲内存地址。
描述符最大一共有 128 组，可用于发送描述符或者接收描述符，可以灵活分配。</p>
</section>
<section id="id4">
<h2><span class="section-number">17.4. </span>时钟<a class="headerlink" href="#id4" title="永久链接至标题"></a></h2>
<p>EMAC 模块需要一路时钟用于同步收发(100Mbps 时需要 25MHz(MII) 或 50MHz(RMII)时钟；若为 10Mbps 时需要 2.5MHz 时钟)。
此时钟必须在 EMAC 与 PHY 之间同步。
BL618 支持输出 50MHz 参考时钟源，也可以使用外置的参考时钟源输入。</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../_images/emac_clk_ref_0.png"><img alt="../_images/emac_clk_ref_0.png" src="../_images/emac_clk_ref_0.png" style="width: 289.6px; height: 336.8px;" /></a>
<figcaption>
<p><span class="caption-number">图 17.2 </span><span class="caption-text">使用外置的参考时钟源</span><a class="headerlink" href="#id11" title="永久链接至图片"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../_images/emac_clk_ref_1.png"><img alt="../_images/emac_clk_ref_1.png" src="../_images/emac_clk_ref_1.png" style="width: 288.8px; height: 288.8px;" /></a>
<figcaption>
<p><span class="caption-number">图 17.3 </span><span class="caption-text">内部输出 50MHz 参考时钟源</span><a class="headerlink" href="#id12" title="永久链接至图片"></a></p>
</figcaption>
</figure>
</section>
<section id="bd-buffer-descriptor">
<h2><span class="section-number">17.5. </span>收发缓冲描述符(BD, Buffer Descriptor)<a class="headerlink" href="#bd-buffer-descriptor" title="永久链接至标题"></a></h2>
<p>收发缓冲描述符，用于提供 EAMC 与数据帧缓存地址信息之间的关联，对收发数据帧进行控制，以及提供收发状态提示。
每个描述符由两个连续的 word(32bit) 构成，低地址的 word0 提供了本 buffer 包含的数据帧的长度，控制及状态位；高地址的 word1 是对应的数据帧缓存的 32 位内存地址(指针)。</p>
<p>发送 TXBD 中的 word0 具体描述：</p>
<blockquote>
<div><p>[31:16]: 发送数据包长度(LEN)。</p>
<p>[15]: 发送 BD 准备好标志(RD)。软件写 1 通知 EMAC 此 BD 包含需要发送的数据，硬件写 0 说明此 BD 数据已发送完成或有错误发生。</p>
<p>[14]: 中断使能标志位(IRQ)。置位则此 BD 可以触发 TXE 或 TXB 中断。设置为 0 时，传输完成后不产生中断。</p>
<p>[13]：回环标记(WR)。置位标志着此 BD 是最后一个发送 BD ，硬件将从起始的第一个 BD 开始重新循环发送。</p>
<p>[12]: 填充标志(PAD)。若置位，则在 EMAC 中设置了填充使能，那么发送 BD 将会自动填充过短的数据包。</p>
<p>[11]：校验标志(CRC)。若置位，则 EMAC 会自动计算发送数据包的 CRC 值，并附在数据包中。</p>
<p>[10]：帧结束标志(EoF)。此位为 0 则表示一帧数据还未传完会继续取下一个 BD, 若此位置位为 1 则此标志着这帧数据传输结束。如果一帧数据占用多个 BD，那么就会在一帧数据传完之后才会置位。</p>
<p>[8]： underfun 标志(UR)。置位则说明 BD 的发送过程中发生了 FIFO underrun 的错误。</p>
<p>[7:4]：重发次数计数器(RTRY)。记录了重发次数。</p>
<p>[3]： 重发次数超限标志(RL)。置位则表明重发次数超过了 COLLCONFIG 寄存器中配置的最大重发次数 MAXRET。</p>
<p>[2]： Late Collision 标志(LC)。置位则表明在发送此 BD 时发生了 Late Collision，传输被中止了。</p>
<p>[1]： Defer Indication 标志(DF)。置位则表明此包被延迟发送。</p>
<p>[0]： 载波检测失效(CS)。如果在发送过程中检测不到载波，则置位。</p>
</div></blockquote>
<p>接收 RXBD 中的 word0 具体描述：</p>
<blockquote>
<div><p>[31:16]: 发送数据包长度(LEN)。</p>
<p>[15]: 接收 BD 空标志(RD)。置位说明此 BD 为空(没保存收到的数据)，清零说明此 BD 有接收到的数据，或接收过程中有错误发生。</p>
<p>[14]: 中断使能标志位(IRQ)。置位则此 BD 可以触发 RXE 或 RXB 中断。若设置为 0 时，接收完成后不产生中断。</p>
<p>[13]：回环标记(WR)。置位标志着此 BD 是最后一个接收 BD ，硬件将从接收起始的第一个 BD 开始重新循环接收。</p>
<p>[8]： 控制帧标志(CF)。置位则说明此 BD 接收到了一个 Control Frame。清零表示收到的是正常的数据帧。</p>
<p>[7]： miss 标志(M)。若在混杂模式收到了数据包，但被内部地址逻辑标记为 miss ，则 EMAC 设置此标志位。否则清零了此标志位，表示是由于地址匹配正确而接收的数据包。</p>
<p>[6]： overrun 标志(OR)。置位则说明接收过程中发生了 FIFO overrun 错误。</p>
<p>[5]： 接收错误标志(RE)。置位则说明接收过程中收到了 PHY 发出的 RX ERR 信号。</p>
<p>[4]： Dribble Nibble 标志(DN)。置位则说明接收到了奇数个 nibbles。</p>
<p>[3]： 数据包过长标志(TL)。置位则说明接收的数据包太长，超过了 PACKETLEN 寄存器的设置。</p>
<p>[2]： 数据表过短标志(SF)。置位则表明接收到的数据包长度小于允许的最小值。</p>
<p>[1]： CRC 错误标志(CRC)。置位则表明接收到的数据包 CRC 校验失败。</p>
<p>[0]： Late Collision 标志(LC)。置位则表明在接收数据到此 BD 时发生了 Late Collision。</p>
</div></blockquote>
<p>需要注意的是：对于 BD，需要按 word 写入。</p>
<p>EMAC 模块最大支持 128 个 BD，由于发送/接收逻辑共享所有可用的 BD，因此 TXBD 和 RXBD 个数可自由组合，但是总个数不能超过 128 个。需要注意的是发送 TXBD 总是占据前面的连续区域(个数由 MAC_TX_BD_NUM 寄存器中的 TXBDNUM 域来指定)。</p>
<p>EMAC 按照 BD 的顺序，循环处理发送/接收 BD，直到遇到标记为 WR 的 BD 就回绕到发送/接收各自的首个 BD。</p>
</section>
<section id="phy">
<h2><span class="section-number">17.6. </span>PHY 交互<a class="headerlink" href="#phy" title="永久链接至标题"></a></h2>
<p>PHY 交互寄存器组提供了与 PHY 交互需要的命令及数据通信的方式。EMAC 通过 MDIO 接口控制 PHY 的工作模式，并保证两者的工作模式匹配(速率，全/半双工等)。</p>
<p>数据包通过 MII/RMII 接口在 EMAC 与 PHY 之间交互，可以通过 EMAC 的模式寄存器(EMAC_MODE)中的 RMII_EN 位选择：当此 bit 为 1，则选择 RMII 模式，否则就是 MII 模式，但是由于 BL618 的引脚限制，暂不支持 MII 模式。</p>
<p>MII 及 RMII 模式均支持 IEEE 802.3u 标准中指定的 10Mbps 与 100Mbps 的传输速率。</p>
<p>RMII 的传输信号描述与下表。</p>
<p>RMII 接口引脚较少，使用 2-bit 数据线用于收发，在 100Mbps 速率时，需要提供 50MHz 的参考时钟。</p>
</section>
<section id="id5">
<h2><span class="section-number">17.7. </span>EMAC 工作流程<a class="headerlink" href="#id5" title="永久链接至标题"></a></h2>
<section id="id6">
<h3><span class="section-number">17.7.1. </span>PHY 初始化<a class="headerlink" href="#id6" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>根据 PHY 类型，设置 EMAC_MODE 寄存器中的 RMII_EN 位来选择合适的连接方式</p></li>
<li><p>设置 EMAC 的 MAC 地址到 EMAC_MAC_ADDR0 与 EMAC_MAC_ADDR1 寄存器中</p></li>
<li><p>通过设置 EMAC_MIIMODE 寄存器中的域 CLKDIV ，为 MDIO 部分设置合适的时钟</p></li>
<li><p>设置对应 PHY 的地址到寄存器 EMAC_MIIADDRESS 的域 FIAD 中</p></li>
<li><p>根据 PHY 的手册，通过 EMAC_MIICOMMAND 与 EMAC_MIITX_DATA 寄存器发送命令控制 PHY 芯片</p></li>
<li><p>读取 PHY 的数据会保存在 EMAC_MIIRX_DATA 寄存器中</p></li>
<li><p>通过 EMAC_MIISTATUS 寄存器可以查询与 PHY 命令交互的状态</p></li>
</ul>
<p>基础的交互完成后，应当使 PHY 进入自动协商状态。协商完成之后，根据协商结果设置相应的模式到 EMAC_MODE 寄存器中的 FULLD 位。</p>
</section>
<section id="id7">
<h3><span class="section-number">17.7.2. </span>发送数据帧<a class="headerlink" href="#id7" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>配置 EMAC_MODE 寄存器中数据帧格式、间隔等位域</p></li>
<li><p>通过配置 EMAC_TX_BD_NUM 寄存器中的 TXBDNUM 域来指定发送所使用的 BD 的个数，那么 128-TXBDNUM 的就是 RXBDNUM 的最大可用值，但是由于内存空间的限制一般情况下 RXBDNUM 也需要设定一个符合应用场景的合理值。</p></li>
<li><p>在内存中准备好需要发送的数据帧</p></li>
<li><p>将数据帧的地址填写到对应发送 BD 的数据指针域(word1)中</p></li>
<li><p>清空对应发送 BD 的控制与状态域(wrod0)中的状态标记，并设置控制域(CRC 使能，PAD 使能，中断使能等)</p></li>
<li><p>写入数据帧长度，并设置好 RD 域，告知 EMAC 此 BD 数据需要发送；如需要，设置上 IRQ 位，以使能中断</p></li>
<li><p>特别的，如果是最后一个发送的 BD，需要设置上 WR 位，EMAC 会在处理完这个 BD 之后&quot;回绕&quot;到第一个发送 BD 进行处理</p></li>
<li><p>如果有多个 BD 需要发送，则重复设置 BD 的步骤以填充所有的发送 BD</p></li>
<li><p>如果一个数据包只包含在一个 BD 中，那么需要设置其 EOF 位为 1</p></li>
<li><p>如果一个数据包分在多个 BD 里进行发送，那么只需要将其占用的最后一个 BD 标记为数据包结束(设置 EOF 位)</p></li>
<li><p>如果需要使能发送中断，还需要配置 EMAC_INT_MASK 寄存器中的 TX 相关位</p></li>
<li><p>配置 EMAC_MODE 寄存器中的 TXEN 位，以使能发送</p></li>
<li><p>如果使能了中断，在发送的中断中，可用通过 EMAC_TX_BD_NUM 寄存器中的 TXBDNUM 域获取当前的 BD</p></li>
<li><p>根据当前 BD 的状态位进行相应的处理</p></li>
<li><p>数据已被发送出去的 BD，其控制域中的 RD 位会被硬件清零，且不会被再次发送；需要填充新数据后，置位 RD，此 BD 即可再次用于发送</p></li>
</ul>
</section>
<section id="id8">
<h3><span class="section-number">17.7.3. </span>接收数据帧<a class="headerlink" href="#id8" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>配置 EMAC_MODE 寄存器中数据帧格式、间隔等位域</p></li>
<li><p>通过配置 EMAC_TX_BD_NUM 寄存器中的 TXBDNUM 域来指定发送所使用的 BD 的个数，那么 128-TXBDNUM 的就是 RXBDNUM 的最大可用值，但是由于内存空间的限制一般情况下 RXBDNUM 也需要设定一个符合应用场景的合理值。</p></li>
<li><p>在内存中准备好接收数据的区域</p></li>
<li><p>将数据帧的地址填写到对应接收 BD 的数据指针域(word1)中</p></li>
<li><p>清空对应发送 BD 的控制与状态域(wrod0)中的状态标记，并设置控制域(中断使能等)</p></li>
<li><p>写入可接收的数据帧长度，并设置好 Empty 位域，告知 EMAC 此 BD 空闲，可以用于数据接收；如需要还可设置 IRQ 位，以使能中断</p></li>
<li><p>特别的，如果是最后一个有效接收 BD，需要设置上 WR 位，EMAC 会在处理完这个 BD 之后&quot;回绕&quot;到第一个接收 BD 进行处理</p></li>
<li><p>如果有多个 BD 可供接收数据，则重复设置 BD 的步骤以填充所有的 BD</p></li>
<li><p>如果需要使能接收中断，还需要配置 EMAC_INT_MASK 寄存器中的 RX 相关位</p></li>
<li><p>配置 EMAC_MODE 寄存器中的 RXEN 位，以使能接收</p></li>
<li><p>如果使能了中断，在接收的中断中，可用通过 EMAC_TX_BD_NUM 寄存器中的 RXBDNUM 域获取当前的 BD</p></li>
<li><p>根据当前 BD 的状态字进行相应的处理</p></li>
<li><p>接收完成的 BD，其控制域中的 Empty 位会被硬件清零，且不会被再次用于接收；需要取走数据，置位 Empty 位，此 BD 即可再次用于接收</p></li>
</ul>
</section>
</section>
<section id="id9">
<h2><span class="section-number">17.8. </span>寄存器描述<a class="headerlink" href="#id9" title="永久链接至标题"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>描述</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mode">MODE</a></p></td>
<td><p>ethernet mac mode setting register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#int-source">INT_SOURCE</a></p></td>
<td><p>interrupt control register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#int-mask">INT_MASK</a></p></td>
<td><p>interrupt  mask register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ipgt">IPGT</a></p></td>
<td><p>inter packet gap register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#packetlen">PACKETLEN</a></p></td>
<td><p>packet length control register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#collconfig">COLLCONFIG</a></p></td>
<td><p>collision and retry config register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tx-bd-num">TX_BD_NUM</a></p></td>
<td><p>transmit buffer number register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#miimode">MIIMODE</a></p></td>
<td><p>MII mode config register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#miicommand">MIICOMMAND</a></p></td>
<td><p>MII command config register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#miiaddress">MIIADDRESS</a></p></td>
<td><p>MII  address config register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#miitx-data">MIITX_DATA</a></p></td>
<td><p>MII transmit data register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#miirx-data">MIIRX_DATA</a></p></td>
<td><p>MII read data register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#miistatus">MIISTATUS</a></p></td>
<td><p>MII status register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mac-addr0">MAC_ADDR0</a></p></td>
<td><p>ethernet mac address0 register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mac-addr1">MAC_ADDR1</a></p></td>
<td><p>Ethernet mac address1 register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hash0-addr">HASH0_ADDR</a></p></td>
<td><p>hash0 address register</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hash1-addr">HASH1_ADDR</a></p></td>
<td><p>hash1 address register</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#txctrl">TXCTRL</a></p></td>
<td><p>Transmit control register</p></td>
</tr>
</tbody>
</table>
<section id="mode">
<h3><span class="section-number">17.8.1. </span>MODE<a class="headerlink" href="#mode" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070000</p>
<figure class="align-center">
<img alt="../_images/emac_MODE.svg" src="../_images/emac_MODE.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:18</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>17</p></td>
<td rowspan="3"><p>RMII_EN</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>RMII mode enable</p>
<p>0: MII PHY I/F is used</p>
<p>1: RMII PHY I/F is used</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>16</p></td>
<td rowspan="3"><p>RECSMALL</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Receive small frame enable</p>
<p>0: Frames smaller than MINFL are ignored.</p>
<p>1: Frames smaller than MINFL are accepted.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>15</p></td>
<td rowspan="3"><p>PAD</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Padding enable</p>
<p>0: Do not add pads to frames shorter than MINFL.</p>
<p>1: Add pads to short frames, until the length equals MINFL.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>14</p></td>
<td rowspan="3"><p>HUGEN</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Huge frames enable</p>
<p>0: The maximum frame length is MAXFL. All additional bytes are dropped.</p>
<p>1: Frame size is not limited by MAXFL and can be up to 64K bytes.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>13</p></td>
<td rowspan="3"><p>CRCEN</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>CRC Enable</p>
<p>0: TX MAC does not append CRC field.</p>
<p>1: TX MAC will append CRC field to every frame.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>12:11</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>10</p></td>
<td rowspan="3"><p>FULLD</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Full duplex</p>
<p>0: Half duplex mode.</p>
<p>1: Full duplex mode.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>9:7</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>6</p></td>
<td rowspan="3"><p>IFG</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Inter frame gap check</p>
<p>0: IFG is verified before each frame be received.</p>
<p>1: All frames are received regardless to IFG requirement.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>5</p></td>
<td rowspan="3"><p>PRO</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Promiscuous mode enable</p>
<p>0: The destination address is checked before receiving.</p>
<p>1: All frames received regardless of the address.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>3</p></td>
<td rowspan="3"><p>BRO</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Broadcast address enable</p>
<p>0: Reject all frames containing the broadcast address unless the PRO bit is asserted.</p>
<p>1: Receive all frames containing broadcast address.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>2</p></td>
<td rowspan="3"><p>NOPRE</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>No preamble mode</p>
<p>0: 7-byte preamble will be sent.</p>
<p>1: No preamble will be sent.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4"><p>1</p></td>
<td rowspan="4"><p>TXEN</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>1'b0</p></td>
<td rowspan="4"><p>Transmit enable</p>
<p>0: Transmitter is disabled.</p>
<p>1: Transmitter is enabled.</p>
<p>If TX_BD_NUM equals 0x0 (zero buffer descriptors are used), then the transmitter is disabled regardless of TXEN.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4"><p>0</p></td>
<td rowspan="4"><p>RXEN</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>1'b0</p></td>
<td rowspan="4"><p>Receiver enable</p>
<p>0: Receiver is disabled.</p>
<p>1: Receiver is enabled.</p>
<p>If TX_BD_NUM equals 0x80 (all buffer descriptors are used for TX), then the receiver is disabled regardless of RXEN.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="int-source">
<h3><span class="section-number">17.8.2. </span>INT_SOURCE<a class="headerlink" href="#int-source" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070004</p>
<figure class="align-center">
<img alt="../_images/emac_INT_SOURCE.svg" src="../_images/emac_INT_SOURCE.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:7</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>6</p></td>
<td rowspan="3"><p>RXC</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Receive control frame</p>
<p>This bit indicates that the control frame was received. It is cleared by writing 1 to it.</p>
<p>Bit RXFLOW in the CTRLMODE register must be set to 1 in order to get the RXC bit set.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>5</p></td>
<td rowspan="3"><p>TXC</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Transmit control frame</p>
<p>This bit indicates that a control frame was transmitted. It is cleared by writing 1 to it.</p>
<p>Bit TXFLOW in the CTRLMODE register must be set to 1 in order to get the TXC bit set.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>4</p></td>
<td rowspan="3"><p>BUSY</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Busy</p>
<p>This bit indicates that RX packet is being received and there is no empty buffer descriptor to use. It iscleared by writing 1 to it.</p>
<p>This bit appears regardless to the IRQ bits in the Receive Buffer Descriptor.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4"><p>3</p></td>
<td rowspan="4"><p>RXE</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>1'b0</p></td>
<td rowspan="4"><p>Receive error</p>
<p>This bit indicates that an error occurred while receiving data (overrun, receiver error, dribble</p>
<p>nibble, too long, &gt;64K, CRC error, bus error or late collision. It is cleared by writing 1 to it.</p>
<p>This bit appears only when IRQ bit is set in the Receive Buffer Descriptor.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>2</p></td>
<td rowspan="3"><p>RXB</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Receive frame</p>
<p>This bit indicates that a frame was received. It is cleared by writing 1 to it.</p>
<p>This bit appears only when IRQ bit is set in the Receive Buffer Descriptor.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="4"><p>1</p></td>
<td rowspan="4"><p>TXE</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>1'b0</p></td>
<td rowspan="4"><p>Transmit error</p>
<p>This bit indicates that a buffer was not transmitted due to a transmit error (underrun,</p>
<p>retransmission limit, late collision, bus error or defer timeout). It is cleared by writing 1 to it.</p>
<p>This bit appears only when IRQ bit is set in the Transmit Buffer Descriptor.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>0</p></td>
<td rowspan="3"><p>TXB</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>Transmit buffer</p>
<p>This bit indicates that a buffer has been transmitted. It is cleared by writing 1 to it.</p>
<p>This bit appears only when IRQ bit is set in the Transmit Buffer Descriptor.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="int-mask">
<h3><span class="section-number">17.8.3. </span>INT_MASK<a class="headerlink" href="#int-mask" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070008</p>
<figure class="align-center">
<img alt="../_images/emac_INT_MASK.svg" src="../_images/emac_INT_MASK.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:7</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>6</p></td>
<td rowspan="3"><p>RXC_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Receive control frame mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>5</p></td>
<td rowspan="3"><p>TXC_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Transmit control frame mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>4</p></td>
<td rowspan="3"><p>BUSY_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Busy mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>3</p></td>
<td rowspan="3"><p>RXE_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Receive error mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>2</p></td>
<td rowspan="3"><p>RXB_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Receive frame mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>1</p></td>
<td rowspan="3"><p>TXE_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Transmit error mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>0</p></td>
<td rowspan="3"><p>TXB_M</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b1</p></td>
<td rowspan="3"><p>Transmit buffer mask ENABLE</p>
<p>0: Interrupt is un-masked</p>
<p>1: Interrupt is masked</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="ipgt">
<h3><span class="section-number">17.8.4. </span>IPGT<a class="headerlink" href="#ipgt" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2007000c</p>
<figure class="align-center">
<img alt="../_images/emac_IPGT.svg" src="../_images/emac_IPGT.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:7</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>6:0</p></td>
<td rowspan="3"><p>IPGT</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>7'h18</p></td>
<td rowspan="3"><p>Inter packet gap</p>
<p>The recommended value is 0x18 (24 clock cycles),</p>
<p>which equals 9.6 us for 10 Mbps and 0.96 us for 100 Mbps mode</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="packetlen">
<h3><span class="section-number">17.8.5. </span>PACKETLEN<a class="headerlink" href="#packetlen" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070018</p>
<figure class="align-center">
<img alt="../_images/emac_PACKETLEN.svg" src="../_images/emac_PACKETLEN.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>31:16</p></td>
<td rowspan="4"><p>MINFL</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>16'h40</p></td>
<td rowspan="4"><p>Minimum frame length</p>
<p>The minimum Ethernet packet is 64 bytes long (0x40).</p>
<p>To receive small packets, assert the RECSMALL bit or change the MINFL value.</p>
<p>To transmit small packets, assert the PAD bit or change the MINFL value.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4"><p>15:0</p></td>
<td rowspan="4"><p>MAXFL</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>16'h600</p></td>
<td rowspan="4"><p>Maximum frame length</p>
<p>The maximum Ethernet packet is 1518 bytes long. To support this and to have some additional</p>
<p>space for tags, a default maximum packet length equals to 1536 bytes (0x600).</p>
<p>For bigger packets, you can assert the HUGEN bit or increase the value of MAXFL field.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="collconfig">
<h3><span class="section-number">17.8.6. </span>COLLCONFIG<a class="headerlink" href="#collconfig" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2007001c</p>
<figure class="align-center">
<img alt="../_images/emac_COLLCONFIG.svg" src="../_images/emac_COLLCONFIG.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:20</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="4"><p>19:16</p></td>
<td rowspan="4"><p>MAXRET</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>4'hF</p></td>
<td rowspan="4"><p>Maximum retry</p>
<p>This field specifies the maximum number of consequential retransmission attempts after the collision is detected.</p>
<p>When the maximum number has been reached, the TX MAC reports an error and stops transmitting the current packet.</p>
<p>According to the Ethernet standard, the MAXRET default value is set to 0xf (15).</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>15:6</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>5:0</p></td>
<td rowspan="3"><p>COLLVALID</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>6'h3F</p></td>
<td rowspan="3"><p>Collision valid</p>
<p>This field specifies a collision time window. A collision that occurs later than the time window</p>
<p>is reported as a &quot;Late Collisions&quot; and transmission of the current packet is aborted.</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
</tbody>
</table>
</section>
<section id="tx-bd-num">
<h3><span class="section-number">17.8.7. </span>TX_BD_NUM<a class="headerlink" href="#tx-bd-num" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070020</p>
<figure class="align-center">
<img alt="../_images/emac_TX_BD_NUM.svg" src="../_images/emac_TX_BD_NUM.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>30:24</p></td>
<td><p>RXBDPTR</p></td>
<td><p>r</p></td>
<td><p>7'h0</p></td>
<td><p>RX buffer descriptors (BD) pointer, pointing at the RXBD currently being used</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>22:16</p></td>
<td><p>TXBDPTR</p></td>
<td><p>r</p></td>
<td><p>7'h0</p></td>
<td><p>TX buffer descriptors (BD) pointer, pointing at the TXBD currently being used</p></td>
</tr>
<tr class="row-even"><td><p>15:8</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>7:0</p></td>
<td rowspan="3"><p>TXBDNUM</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>8'h40</p></td>
<td rowspan="3"><p>TX buffer descriptors (BD) number</p>
<p>Number of TX BD. TX and RX share 128 (0x80) descriptors, so the number of RX BD equals 0x80 - TXBDNUM.</p>
<p>The maximum number of TXBDNUM is 0x80. Values greater then 0x80 cannot be written into this register.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="miimode">
<h3><span class="section-number">17.8.8. </span>MIIMODE<a class="headerlink" href="#miimode" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070028</p>
<figure class="align-center">
<img alt="../_images/emac_MIIMODE.svg" src="../_images/emac_MIIMODE.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:9</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>8</p></td>
<td rowspan="3"><p>MIINOPRE</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>No preamble for Management Data (MD)</p>
<p>0: 32-bit preamble will be sent.</p>
<p>1: No preamble will be sent.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2"><p>7:0</p></td>
<td rowspan="2"><p>CLKDIV</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>8'h64</p></td>
<td rowspan="2"><p>Clock divider for Management Data Clock (MDC)</p>
<p>The source clock is bus clock and can be divided by any even number.</p>
</td>
</tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</section>
<section id="miicommand">
<h3><span class="section-number">17.8.9. </span>MIICOMMAND<a class="headerlink" href="#miicommand" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2007002c</p>
<figure class="align-center">
<img alt="../_images/emac_MIICOMMAND.svg" src="../_images/emac_MIICOMMAND.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:3</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>2</p></td>
<td rowspan="2"><p>WCTRLDATA</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>1'b0</p></td>
<td rowspan="2"><p>Write control data, setting this bit to 1 will trigger the command (auto cleared)</p>
<p>Note: [2]/[1]/[0] cannot be asserted at the same time, execute one command at a time</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>1</p></td>
<td rowspan="2"><p>RSTAT</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>1'b0</p></td>
<td rowspan="2"><p>Read status, setting this bit to 1 will trigger the command (auto cleared)</p>
<p>Note: [2]/[1]/[0] cannot be asserted at the same time, execute one command at a time</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>0</p></td>
<td rowspan="2"><p>SCANSTAT</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>1'b0</p></td>
<td rowspan="2"><p>Scan status, setting this bit to 1 will trigger the command (auto cleared)</p>
<p>Note: [2]/[1]/[0] cannot be asserted at the same time, execute one command at a time</p>
</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
</section>
<section id="miiaddress">
<h3><span class="section-number">17.8.10. </span>MIIADDRESS<a class="headerlink" href="#miiaddress" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070030</p>
<figure class="align-center">
<img alt="../_images/emac_MIIADDRESS.svg" src="../_images/emac_MIIADDRESS.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:13</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>12:8</p></td>
<td><p>RGAD</p></td>
<td><p>r/w</p></td>
<td><p>5'h0</p></td>
<td><p>Register Address</p></td>
</tr>
<tr class="row-even"><td><p>7:5</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4:0</p></td>
<td><p>FIAD</p></td>
<td><p>r/w</p></td>
<td><p>5'h0</p></td>
<td><p>PHY Address</p></td>
</tr>
</tbody>
</table>
</section>
<section id="miitx-data">
<h3><span class="section-number">17.8.11. </span>MIITX_DATA<a class="headerlink" href="#miitx-data" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070034</p>
<figure class="align-center">
<img alt="../_images/emac_MIITX_DATA.svg" src="../_images/emac_MIITX_DATA.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:16</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>15:0</p></td>
<td><p>CTRLDATA</p></td>
<td><p>r/w</p></td>
<td><p>16'h0</p></td>
<td><p>Control Data to be written to PHY</p></td>
</tr>
</tbody>
</table>
</section>
<section id="miirx-data">
<h3><span class="section-number">17.8.12. </span>MIIRX_DATA<a class="headerlink" href="#miirx-data" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070038</p>
<figure class="align-center">
<img alt="../_images/emac_MIIRX_DATA.svg" src="../_images/emac_MIIRX_DATA.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:16</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>15:0</p></td>
<td><p>PRSD</p></td>
<td><p>r</p></td>
<td><p>16'h0</p></td>
<td><p>Received Data from PHY</p></td>
</tr>
</tbody>
</table>
</section>
<section id="miistatus">
<h3><span class="section-number">17.8.13. </span>MIISTATUS<a class="headerlink" href="#miistatus" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2007003c</p>
<figure class="align-center">
<img alt="../_images/emac_MIISTATUS.svg" src="../_images/emac_MIISTATUS.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:2</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>1</p></td>
<td rowspan="3"><p>MIIM_BUSY</p></td>
<td rowspan="3"><p>r</p></td>
<td rowspan="3"><p>1'b0</p></td>
<td rowspan="3"><p>MIIM I/F busy signal</p>
<p>0: The MIIM I/F is ready.</p>
<p>1: The MIIM I/F is busy.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>MIIM_LINKFAIL</p></td>
<td><p>r</p></td>
<td><p>1'b0</p></td>
<td><p>MIIM I/F link fail signal</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mac-addr0">
<h3><span class="section-number">17.8.14. </span>MAC_ADDR0<a class="headerlink" href="#mac-addr0" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070040</p>
<figure class="align-center">
<img alt="../_images/emac_MAC_ADDR0.svg" src="../_images/emac_MAC_ADDR0.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:24</p></td>
<td><p>MAC_B2</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 2</p></td>
</tr>
<tr class="row-odd"><td><p>23:16</p></td>
<td><p>MAC_B3</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 3</p></td>
</tr>
<tr class="row-even"><td><p>15:8</p></td>
<td><p>MAC_B4</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 4</p></td>
</tr>
<tr class="row-odd"><td><p>7:0</p></td>
<td><p>MAC_B5</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 5</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mac-addr1">
<h3><span class="section-number">17.8.15. </span>MAC_ADDR1<a class="headerlink" href="#mac-addr1" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070044</p>
<figure class="align-center">
<img alt="../_images/emac_MAC_ADDR1.svg" src="../_images/emac_MAC_ADDR1.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:16</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>15:8</p></td>
<td><p>MAC_B0</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 0</p></td>
</tr>
<tr class="row-even"><td><p>7:0</p></td>
<td><p>MAC_B1</p></td>
<td><p>r/w</p></td>
<td><p>8'd0</p></td>
<td><p>Ethernet MAC address byte 1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hash0-addr">
<h3><span class="section-number">17.8.16. </span>HASH0_ADDR<a class="headerlink" href="#hash0-addr" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070048</p>
<figure class="align-center">
<img alt="../_images/emac_HASH0_ADDR.svg" src="../_images/emac_HASH0_ADDR.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:0</p></td>
<td><p>HASH0</p></td>
<td><p>r/w</p></td>
<td><p>32'h0</p></td>
<td><p>Lower 32-bit of HASH register</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hash1-addr">
<h3><span class="section-number">17.8.17. </span>HASH1_ADDR<a class="headerlink" href="#hash1-addr" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x2007004c</p>
<figure class="align-center">
<img alt="../_images/emac_HASH1_ADDR.svg" src="../_images/emac_HASH1_ADDR.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:0</p></td>
<td><p>HASH1</p></td>
<td><p>r/w</p></td>
<td><p>32'h0</p></td>
<td><p>Upper 32-bit of HASH register</p></td>
</tr>
</tbody>
</table>
</section>
<section id="txctrl">
<h3><span class="section-number">17.8.18. </span>TXCTRL<a class="headerlink" href="#txctrl" title="永久链接至标题"></a></h3>
<p><strong>地址：</strong>  0x20070050</p>
<figure class="align-center">
<img alt="../_images/emac_TXCTRL.svg" src="../_images/emac_TXCTRL.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>位</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>权限</p></th>
<th class="head"><p>复位值</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:17</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>16</p></td>
<td rowspan="2"><p>TXPAUSERQ</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>1'b0</p></td>
<td rowspan="2"><p>TX Pause Request</p>
<p>Writing 1 to this bit starts sending control frame and is automatically cleared to zero.</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>15:0</p></td>
<td rowspan="2"><p>TXPAUSETV</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>16'h0</p></td>
<td rowspan="2"><p>TX Pause Timer Value</p>
<p>The value that is sent in the pause control frame.</p>
</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="AudioADC.html" class="btn btn-neutral float-left" title="16. AudioADC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="USB.html" class="btn btn-neutral float-right" title="18. USB" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>