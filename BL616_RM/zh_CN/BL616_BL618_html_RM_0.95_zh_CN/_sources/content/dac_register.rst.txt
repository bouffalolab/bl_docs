
寄存器描述
====================

+-------------------------+-----------------------------+
| 名称                    | 描述                        |
+-------------------------+-----------------------------+
| `gpdac_config`_         | dac data control register   |
+-------------------------+-----------------------------+
| `gpdac_dma_config`_     | dac dma control register    |
+-------------------------+-----------------------------+
| `gpdac_dma_wdata`_      | dac fifo data register      |
+-------------------------+-----------------------------+
| `gpdac_tx_fifo_status`_ | dac status register         |
+-------------------------+-----------------------------+
| `dac_cfg0`_             | DAC source control register |
+-------------------------+-----------------------------+
| `dac_cfg1`_             | DAC CHA control register    |
+-------------------------+-----------------------------+
| `dac_cfg2`_             | DAC CHB control register    |
+-------------------------+-----------------------------+
| `dac_cfg3`_             | DAC converter data register |
+-------------------------+-----------------------------+

gpdac_config
--------------
 
**地址：**  0x20002040
 
.. figure:: ../../picture/gpip_gpdac_config.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                      |
    +==========+==============================+========+=============+===========================================+
    | 31:24    | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 23:20    | gpdac_ch_b_sel               | r/w    | 0           | Channel B Source Select                   |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 0: Reg                                    |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 1: DMA                                    |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 3: Sin Gen                                |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 4: A (The same as channel A)              |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 5: ~A (Inverse of channel A)              |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 19:16    | gpdac_ch_a_sel               | r/w    | 0           | Channel A Source Select                   |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 0: Reg                                    |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 1: DMA                                    |
    +          +                              +        +             +                                           +
    |          |                              |        |             | 3: Sin Gen                                |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 15:11    | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 10:8     | gpdac_mode                   | r/w    | 0           | 0:32k, 1:16k, 3:8k,  4:512k(for DMA only) |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 7:1      | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 0        | gpdac_en                     | r/w    | 0           | GPDAC enable                              |
    +----------+------------------------------+--------+-------------+-------------------------------------------+

gpdac_dma_config
------------------
 
**地址：**  0x20002044
 
.. figure:: ../../picture/gpip_gpdac_dma_config.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                          |
    +==========+==============================+========+=============+===============================================================+
    | 31:8     | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 7:4      | gpdac_dma_format             | r/w    | 0           | DMA TX format (Data 12-bit)                                   |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 0: ([11:0]) {A0}, {A1}, {A2}…                                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1: ([27:16][11:0]) {B0,A0}, {B1,A1}, {B2,A2}…                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 2: ([27:16][11:0]) {A1,A0}, {A3,A2}, {A5,A4}…                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 4: ([15:4]) {A0}, {A1}, {A2}…                                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 5: ([31:20][15:4]) {B0,A0}, {B1,A1}, {B2,A2}…                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 6: ([31:20][15:4]) {A1,A0}, {A3,A2}, {A5,A4}…                |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 8: ([31:24][23:16][15:8][7:0]) {A3,A2,A1,A0}, {A7,A6,A5,A4}… |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 9: ([31:24][23:16][15:8][7:0]) {B1,B0,A1,A0}, {B3,B2,A3,A2}… |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 10: ([31:24][23:16][15:8][7:0]) {B1,A1,B0,A0}, {B3,A3,B2,A2}…|
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 11: ([15:8][7:0]) {B0,A0}, {B1,A1}, {B2,A2}…                 |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 3:2      | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 1        | gpdac_dma_inv_msb            | r/w    | 0           | GPDAC DMA Data Inverse MSB                                    |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 0        | gpdac_dma_tx_en              | r/w    | 0           | GPDAC DMA TX enable                                           |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+

gpdac_dma_wdata
-----------------
 
**地址：**  0x20002048
 
.. figure:: ../../picture/gpip_gpdac_dma_wdata.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述              |
    +==========+==============================+========+=============+===================+
    | 31:0     | gpdac_dma_wdata              | w      | x           | GPDAC DMA TX data |
    +----------+------------------------------+--------+-------------+-------------------+

gpdac_tx_fifo_status
----------------------
 
**地址：**  0x2000204c
 
.. figure:: ../../picture/gpip_gpdac_tx_fifo_status.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-----------------+
    | 位       | 名称                         |权限    | 复位值      | 描述            |
    +==========+==============================+========+=============+=================+
    | 31:2     | RSVD                         |        |             |                 |
    +----------+------------------------------+--------+-------------+-----------------+
    | 1        | tx_fifo_full                 | r      | 0           | fifo full flag  |
    +----------+------------------------------+--------+-------------+-----------------+
    | 0        | tx_fifo_empty                | r      | 0           | fifo empty flag |
    +----------+------------------------------+--------+-------------+-----------------+

dac_cfg0
----------
 
**地址：**  0x20000120
 
.. figure:: ../../picture/glb_dac_cfg0.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                                                                       |
    +==========+==============================+========+=============+============================================================================================================+
    | 31:15    | RSVD                         |        |             |                                                                                                            |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 14       | gpdac_dat_chb_sel            | r/w    | 1'h0        | 0:data from gpip, 1:data from audio pwm                                                                    |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 13       | gpdac_dat_cha_sel            | r/w    | 1'h0        | 0:data from gpip, 1:data from audio pwm                                                                    |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 12       | gpdac_ana_clk_sel            | r/w    | 1'h0        | 0:clock from gpip, 1:clock from audio pwm                                                                  |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 11:9     | gpdac_test_sel               | r/w    | 3'h0        | select test point 0~7                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 8        | gpdac_ref_sel                | r/w    | 1'h0        | Reference select                                                                                           |
    +          +                              +        +             +                                                                                                            +
    |          |                              |        |             | 1'h0 Internal reference                                                                                    |
    +          +                              +        +             +                                                                                                            +
    |          |                              |        |             | 1'h1 External reference                                                                                    |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 7        | gpdac_test_en                | r/w    | 1'h0        | Test enable 1'h0 analog test disabled (ATEST is set in Hi-Z state) 1'h1 analog test point enabled to ATEST |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 6:2      | RSVD                         |        |             |                                                                                                            |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 1        | gpdacb_rstn_ana              | r/w    | 1'h1        | Soft reset for DAC channel B, active low                                                                   |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+
    | 0        | gpdaca_rstn_ana              | r/w    | 1'h1        | Soft reset for DAC channel A, active low                                                                   |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------+

dac_cfg1
----------
 
**地址：**  0x20000124
 
.. figure:: ../../picture/glb_dac_cfg1.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                          |
    +==========+==============================+========+=============+===============================================================+
    | 31:20    | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 19:18    | gpdac_a_rng                  | r/w    | 2'h3        | Output voltage range control with internal/external reference |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 17:2     | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 1        | gpdac_ioa_en                 | r/w    | 1'h0        | Channel A conversion output to pad enable                     |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h0 Disable channel A conversion result to GPIO              |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h1 Enable channel A conversion result to GPIO               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 0        | gpdac_a_en                   | r/w    | 1'h0        | Channel A enable/disable signal                               |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h0 Disable channel A conversion.                            |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h1 Enable channel A conversion                              |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+

dac_cfg2
----------
 
**地址：**  0x20000128
 
.. figure:: ../../picture/glb_dac_cfg2.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                          |
    +==========+==============================+========+=============+===============================================================+
    | 31:20    | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 19:18    | gpdac_b_rng                  | r/w    | 2'h3        | Output voltage range control with internal/external reference |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 17:2     | RSVD                         |        |             |                                                               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 1        | gpdac_iob_en                 | r/w    | 1'h0        | channel B conversion output to pad enable                     |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h0 Disable channel B conversion result to GPIO              |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h1 Enable channel B conversion result to GPIO               |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+
    | 0        | gpdac_b_en                   | r/w    | 1'h0        | channel B enable/disable signal                               |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h0 Disable channel B conversion.                            |
    +          +                              +        +             +                                                               +
    |          |                              |        |             | 1'h1 Enable channel B conversion                              |
    +----------+------------------------------+--------+-------------+---------------------------------------------------------------+

dac_cfg3
----------
 
**地址：**  0x2000012c
 
.. figure:: ../../picture/glb_dac_cfg3.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                                                          |
    +==========+==============================+========+=============+===============================================================================================+
    | 31:28    | RSVD                         |        |             |                                                                                               |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------------------------------------+
    | 27:16    | gpdac_a_data                 | r/w    | 12'h0       | Channel A Data input                                                                          |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------------------------------------+
    | 15:12    | RSVD                         |        |             |                                                                                               |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------------------------------------+
    | 11:0     | gpdac_b_data                 | r/w    | 12'h0       | Channel B Data input                                                                          |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------------------------------------+
