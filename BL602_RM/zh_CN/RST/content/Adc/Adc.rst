===========
ADC
===========

简介
=====
芯片内置一个12bits的逐次逼近式模拟数字转换器(ADC）,支持12路外部模拟输入和若干内部模拟信号选择。
ADC可以工作在单次转换和多通道扫描两种模式下，转换结果为12/14/16bits左对齐模式。ADC拥有深度
为32的FIFO，支持多种中断，支持DMA操作。ADC除了用于普通模拟信号测量外，还可以用于测量供电电压，
此外ADC还可以通过测量内/外部二极管电压用于温度检测。

主要特点
===========

- 高性能

    + 可以选择12-bit, 14-bit, 16-bit转换结果输出
    + ADC转换时间最快0.5us（12-bit转换结果)
    + 支持1.8V,3.3V可选参考电压
    + 支持DMA将转换结果搬运到内存
    + 支持单通道转换和多通道扫描两种模式
    + 支持单端与差分两种输入模式
    + 支持抖动补偿
    + 支持用户自行设定转换结果偏移值
    + 扫描模式时钟最大支持1M，非扫描模式是2M

- 模拟通道数

    * 12路外部模拟通道
    * 2路DAC内部通道
    * 1路VBAT/2通道
    * 1路TSEN通道


功能描述
===========

ADC模块基本框图如图所示。

.. figure:: picture/ADC_Basic_Struct.png
   :align: center

   ADC基本框图

ADC模块包含五大部分，分别为前端输入通道选择器，程控放大器，ADC采样模块，数据处理模块以及FIFO。
输入通道选择器用于选择需要采样的通道，既包含外部模拟信号，也包含内部模拟信号，程控放大器用于对
输入信号做进一步处理，可以根据输入信号的特点，比如直流，交流，进行设定，以便得到更准确的转换值。
ADC采样模块是最主要的功能模块，实现通过逐次比较的方式，得到模拟信号到数字信号的转换。转换的结果
为12bit，数据处理模块负责将转换的结果进一步处理，包括添加通道信息等。最后得到的数据会推送到最后端
的FIFO中。



ADC 引脚和内部信号
--------------------------

.. table:: ADC内部信号

    +----------+-----------------+-----------------------------------------+
    | 内部信号 |    信号类型     |        信号描述                         |
    +==========+=================+=========================================+
    |   VBAT/2 |     Input       | 从电源引脚分压过来的电压信号            |
    +----------+-----------------+-----------------------------------------+
    |   TSEN   |     Input       | 内部温度传感器输出电压                  |
    +----------+-----------------+-----------------------------------------+
    |   VREF   |     Input       | 内部模拟模块参考电压                    |
    +----------+-----------------+-----------------------------------------+
    | DACOUTA  |     Input       | DAC模块输出                             |
    +----------+-----------------+-----------------------------------------+
    | DACOUTB  |     Input       | DAC模块输出                             |
    +----------+-----------------+-----------------------------------------+


.. table:: ADC外部引脚

    +----------+-----------------+-----------------------------------------+
    | 外部引脚 |    信号类型     |        信号描述                         |
    +==========+=================+=========================================+
    |   VDDA   |     Input       | 模拟模块供电电压正极                    |
    +----------+-----------------+-----------------------------------------+
    |   VSSA   |     Input       | 模拟模块供电地                          |
    +----------+-----------------+-----------------------------------------+
    | ADC_CHX  |     Input       | 模拟输入引脚，总共12路                  |
    +----------+-----------------+-----------------------------------------+


ADC通道
-------------
ADC采样的可以选择的通道包括外部模拟引脚的输入信号和芯片内部可选信号，具体包括：

- ADC CH0
- ADC CH1
- ADC CH2
- ADC CH3
- ADC CH4
- ADC CH5
- ADC CH6
- ADC CH7
- ADC CH8
- ADC CH9
- ADC CH10
- ADC CH11
- DAC OUTA
- DAC OUTB
- VBAT/2
- TSEN
- VREF
- GND

需要注意的是，如果选择VBAT/2或TSEN作为输入待采信号，需要把gpadc_vbat_en或gpadc_ts_en置位。
ADC模块可以支持单端输入或者差分输入，如果是单端输入模式，负极输入通道需要选择GND。

ADC时钟
-------------

ADC模块的工作时钟来源如下图所示。

.. figure:: picture/ADC_Clock.png
   :align: center
   
   ADC时钟

ADC的时钟源可以选择来自PLL的96M，XTAL或者内部RC32M，时钟源的选择在GLB模块中设定，同时GLB模块也提供了
时钟分频，默认情况下，ADC的时钟源是96M，时钟分频是2，到达ADC模块的时钟是32M。
在ADC模块内部，提供了一个时钟分频，默认16分频，故ADC模块内部的时钟默认是2M。用户可以根据实际采样需求，
自行调整ADC的时钟源和各个分频系数。
gpadc_32m_clk_div分频寄存器宽度为6bits，最大分频为64，分频公式为fout=fsource/(gpadc_32m_clk_div+1)。
gpadc_clk_div_ratio分频寄存器位于ADC模块内部，宽度为3bits,其分频值定义如下：

- 3'b000: div=1
- 3'b001: div=4
- 3'b010: div=8
- 3'b011: div=12
- 3'b100: div=16
- 3'b101: div=20
- 3'b110: div=24
- 3'b111: div=32

ADC转换模式
-------------

ADC支持单通道转换和扫描转换两种模式，在单通道转换模式下，用户需要通过gpadc_pos_sel选择正极输入通道，
通过gpadc_neg_sel选择负极输入通道，同时把gpadc_cont_conv_en控制位设置为0，表示单通道转换，
然后设置gpadc_conv_start控制位启动转换即可。


在扫描转换模式下，gpadc_cont_conv_en控制位需要设置为1，ADC根据gpadc_scan_length控制位设定的转换通道个数，
依次按照gpadc_reg_scn_posX(X=1，2）和gpadc_reg_scn_negX(X=1，2）寄存器组所设定的通道顺序，逐个进行转换，
转换的结果会自动推入ADC的FIFO。gpadc_reg_scn_posX(X=1，2）和gpadc_reg_scn_negX(X=1，2）寄存器组所设定的
通道可以相同，这也就意味着用户可以实现对一个通道进行多次采样转换。


ADC的转换结果一般都是放入FIFO中。用户需要根据实际转换通道数，设定FIFO接收数据阈值中断，
通过FIFO的阈值中断，作为ADC转换完成中断。

ADC结果
-------------
gpadc_raw_data寄存器存放了ADC的原始结果，在单端模式下，数据有效位是12bits，无符号位，在差分模式下，最高位为符号位，
剩下11bits代表转换的结果。


gpadc_data_out寄存器存放了ADC的结果，这个结果里包含了ADC结果，符号位和通道信息，数据格式如下：


.. table:: ADC转换结果含义

    +-------+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
    | BitS  |25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|9 | 8| 7| 6| 5| 4| 3| 2| 1| 0|
    +=======+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+==+
    | 含义  |  正极通道号  |  负极通道号  |                    转换结果                   |
    +-------+--------------+--------------+-----------------------------------------------+

转换结果的bit21-bit25是正极通道号，bit16-bit20是负极通道号，bit0-bit15是转换的数值。

gpadc_res_sel控制位可以设定转换结果的位数为12位，14位，和16位，其中14位和16位是多次采样提高精度得到的结果，
其可以设置的值如下：

- 3'b000    12bit 2MS/s, OSR=1 
- 3'b001    14bit 125kS/s, OSR=16
- 3'b010    14bit 31.25kS/s, OSR=64 
- 3'b011    16bit 15.625KS/s, OSR=128
- 3'b100    16bit 7.8125KS/s, OSR=256

ADC转换结果为左对齐模式，当选择12位时，转换结果的bit15-bit4有效，当选择14位时，转换结果的bit15-bit2有效，当选择16位时，转换结果的bit15-bit0有效。
同样，在差分模式下，最高为是符号为，也就是，当选择14位时，bit15是符号位，bit14-bit2是转换结果，bit14是MSB,
在单端模式下，没有符号位，也就是，当选择12位时，bit15-bit4是转换结果，bit15是MSB。

在实际使用中，ADC的结果一般都是放入FIFO，这在多通道扫描模式下尤为重要，所以用户一般都是从ADC FIFO获取转换结果，
ADC FIFO的数据格式gpadc_data_out寄存器中数据格式相同。

ADC中断
-------------
ADC模块在正极采样超量程和负极采样超量程时可以产生中断，可以通过gpadc_pos_satur_mask，gpadc_neg_satur_mask屏蔽各自中断，
当中断产生时，可以通过gpadc_pos_satur，和gpadc_neg_satur寄存器查询中断状态，同时可以通过gpadc_pos_satur_clr和gpadc_neg_satur_clr清除中断。该功能可以用来判断输入电压是否异常。

ADC FIFO
-------------

ADC模块拥有深度为32的FIFO，数据宽度为26bits，当ADC完成转换后，会自动将结果推入到FIFO。ADC的FIFO有如下状态和中断管理功能：

- FIFO满状态
- FIFO非空状态
- FIFO Overrun中断
- FIFO Underrun中断

当中断产生时，可以通过对应的clear位将中断标志清除掉。


利用ADC的FIFO用户可以实现三种模式获取数据：查询模式，中断模式，DMA模式

**查询模式**

CPU轮询gpadc_rdy位，当该控制位置位时，说明FIFO中存在有效数据，CPU可以根据gpadc_fifo_data_count获知
FIFO数据个数并从FIFO读出这些数据。

**中断模式**

CPU设置gpadc_rdy_mask为0，ADC就会在FIFO有数据推入的时候产生中断，用户可在中断函数中，根据gpadc_fifo_data_count获知
FIFO数据个数并从FIFO读出这些数据，然后设置gpadc_rdy_clr清除中断。

**DMA模式**

用户设定gpadc_dma_en控制位，可以配合DMA完成转换数据到内存的搬运，在使用DMA模式时，通过gpadc_fifo_thl设置ADC FIFO发送
DMA请求的数据个数阈值，DMA在收到请求时，会自动根据用户设定的参数，从FIFO搬运指定个数的结果到对应的内存。


ADC设置流程
-------------

**设置ADC时钟**

根据ADC转换速度需求，确定ADC的工作时钟，设定GLB模块的ADC时钟源和分频，结合gpadc_clk_div_ratio，确定最终ADC模块的工作时钟频率。

**根据使用的通道设置GPIO**

根据使用的模拟引脚，确定使用的通道号，初始化对应的GPIO为模拟功能，需要注意的是，在设定GPIO为模拟输入的时候，不要设置GPIO的上拉
或者下拉，需要设置为浮空输入。

**设定要转换的通道**

根据使用的模拟通道和转换模式，设定对应的通道寄存器，对于单通道转换，在gpadc_pos_sel和gpadc_neg_sel寄存器中设置转换的通道信息。
对于多通道扫描模式，根据要扫描通道数目和扫描顺序，设定gpadc_scan_length,gpadc_reg_scn_posX和gpadc_reg_scn_negX。

**设定数据读取方式**

根据ADC FIFO介绍的读取数据方式，选择使用的模式，设置对应的寄存器。如果使用DMA，同样需要配置DMA的一个通道，配合ADC FIFO完成数据的搬运。

**启动转换**

最后设置gpadc_res_sel选择数据转换结果的精度，最后设置gpadc_global_en=1，gpadc_conv_start=1就可以启动ADC开始转换。
当转换完成，需要再次转换时，需要将gpadc_conv_start设置为0，再设置为1，以便再次触发转换。


VBAT测量
-------------
这里的VBAT/2测量的是芯片VDD33的电压，而不是外部的比如锂电池的电压，如果需要测量锂电池等供电源头的电压，
可以将电压分压，然后输入ADC的GPIO模拟通道，测量VDD33的电压可以减少GPIO的使用。


ADC模块测量的VBAT/2电压是经过分压的，实际输入到ADC模块的电压是VDD33的一半，即VBAT/2=VDD33/2。由于电压经过分压，
为了得到较高的精确度，建议ADC的参考电压选择1.8V，采用单端模式，正极输入电压选择VBAT/2，负极输入电压选择GND，
同时将Gpadc_vbat_en设置为1，启动转换后，将对应的转换结果乘以2就可以得到VDD33电压。

TSEN测量
-------------

ADC可以测量内部二极管或者外部二极管电压值，而二极管的压差和温度有关，所以通过测量二极管的电压，可以计算得到环境温度，
我们称之为Temperature Sensor，简称TSEN。


TSEN的测试原理是通过一个二极管上面测量两次不同大小的电流产生的电压差ΔV 随着温度的变化拟合的曲线，无论外部或者内部二极管的测量，
最终输出的值和温度有关，都可以表示成Δ(ADC_out)=7.753T+X，当我们知道了电压值，也就知道了温度T。这里的X是一个偏移值，可以作为标准值，
在实际使用前，我们需要确定X。芯片厂商会在芯片出厂前，在标准温度下，例如室温25度，测量Δ(ADC_out)，从而得到X。
在用户使用的时候，只要根据公式T=[Δ(ADC_out)-X]/7.753，就可以得到温度T。

在使用TSEN时，建议把ADC设置成16bits模式，通过多次采样以减少误差，参考电压选择1.8V以提高精度，设置gpadc_ts_en为1以便启动TSEN功能，
如果选择内部二极管，gpadc_tsext_sel=0，如果选择外部二极管，gpadc_tsext_sel=1，根据实际情况选择正向输入通道，如果是内部二极管，
选择TSEN通道，如果是外部，选择对应的模拟GPIO通道，负极输入端选择GND。在上述设定完毕后，设置gpadc_tsvbe_low=0，启动测量，
得到测量结果V0,再设置gpadc_tsvbe_low=1，启动测量，得到测量结果V1,Δ(ADC_out)=V1-V0，根据公式T=[Δ(ADC_out)-X]/7.753，得到温度T。

寄存器描述
====================

+-------------------------+-------------------------------+
| 名称                    | 描述                          |
+-------------------------+-------------------------------+
| `gpadc_config`_         | GPADC configuration           |
+-------------------------+-------------------------------+
| `gpadc_dma_rdata`_      | GPADC DMA read data           |
+-------------------------+-------------------------------+
| `gpadc_reg_cmd`_        | GPADC configuration register  |
+-------------------------+-------------------------------+
| `gpadc_reg_config1`_    | GPADC configuration register1 |
+-------------------------+-------------------------------+
| `gpadc_reg_config2`_    | GPADC configuration register2 |
+-------------------------+-------------------------------+
| `gpadc_reg_scn_pos1`_   | GPADC converation sequence 1  |
+-------------------------+-------------------------------+
| `gpadc_reg_scn_pos2`_   | GPADC converation sequence 2  |
+-------------------------+-------------------------------+
| `gpadc_reg_scn_neg1`_   | GPADC converation sequence 3  |
+-------------------------+-------------------------------+
| `gpadc_reg_scn_neg2`_   | GPADC converation sequence 4  |
+-------------------------+-------------------------------+
| `gpadc_reg_status`_     | GPADC status register         |
+-------------------------+-------------------------------+
| `gpadc_reg_isr`_        | GPADC status flag register    |
+-------------------------+-------------------------------+
| `gpadc_reg_result`_     | GPADC result register         |
+-------------------------+-------------------------------+
| `gpadc_reg_raw_result`_ | GPADC raw result register     |
+-------------------------+-------------------------------+
| `gpadc_reg_define`_     | GPADC define register         |
+-------------------------+-------------------------------+

gpadc_config
--------------
 
**地址：**  0x40002000
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                          | FIFOTHL               | FIFODACN                                                              |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD      | FURM      | FORM      | RDYM      | RSVD      | URCL      | ORCL      | RDYCLR    | RSVD      | FIFOUR    | FIFOOR    | RDY       | FIFOFULL  | FIFONE    | FIFOCLR   | DMAEN     |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+--------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                 |
+----------+----------+--------+-------------+--------------------------------------+
| 31:24    | RSVD     |        |             |                                      |
+----------+----------+--------+-------------+--------------------------------------+
| 23:22    | FIFOTHL  | R/W    | 2'D0        | fifo threshold                       |
+          +          +        +             +                                      +
|          |          |        |             | 2'b00: 1 data                        |
+          +          +        +             +                                      +
|          |          |        |             | 2'b01: 4 data                        |
+          +          +        +             +                                      +
|          |          |        |             | 2'b10: 8 data                        |
+          +          +        +             +                                      +
|          |          |        |             | 2'b11: 16 data                       |
+----------+----------+--------+-------------+--------------------------------------+
| 21:16    | FIFODACN | R      | 6'D0        | fifo data number                     |
+----------+----------+--------+-------------+--------------------------------------+
| 15       | RSVD     |        |             |                                      |
+----------+----------+--------+-------------+--------------------------------------+
| 14       | FURM     | R/W    | 1'B0        | write 1 mask                         |
+----------+----------+--------+-------------+--------------------------------------+
| 13       | FORM     | R/W    | 1'B0        | write 1 mask                         |
+----------+----------+--------+-------------+--------------------------------------+
| 12       | RDYM     | R/W    | 1'B0        | write 1 mask                         |
+----------+----------+--------+-------------+--------------------------------------+
| 11       | RSVD     |        |             |                                      |
+----------+----------+--------+-------------+--------------------------------------+
| 10       | URCL     | R/W    | 1'B0        | Write 1 to clear flag                |
+----------+----------+--------+-------------+--------------------------------------+
| 9        | ORCL     | R/W    | 1'B0        | Write 1 to clear flag                |
+----------+----------+--------+-------------+--------------------------------------+
| 8        | RDYCLR   | R/W    | 1'B0        | Write 1 to clear flag                |
+----------+----------+--------+-------------+--------------------------------------+
| 7        | RSVD     |        |             |                                      |
+----------+----------+--------+-------------+--------------------------------------+
| 6        | FIFOUR   | R      | 1'B0        | FIFO underrun interrupt flag         |
+----------+----------+--------+-------------+--------------------------------------+
| 5        | FIFOOR   | R      | 1'B0        | FIFO overrun interrupt flag          |
+----------+----------+--------+-------------+--------------------------------------+
| 4        | RDY      | R      | 1'B0        | Conversion data ready interrupt flag |
+----------+----------+--------+-------------+--------------------------------------+
| 3        | FIFOFULL | R      | 1'B0        | FIFO full flag                       |
+----------+----------+--------+-------------+--------------------------------------+
| 2        | FIFONE   | R      | 1'B0        | FIFO not empty flag                  |
+----------+----------+--------+-------------+--------------------------------------+
| 1        | FIFOCLR  | W1C    | 1'B0        | FIFO clear signal                    |
+----------+----------+--------+-------------+--------------------------------------+
| 0        | DMAEN    | R/W    | 1'B0        | GPADC DMA enbale                     |
+----------+----------+--------+-------------+--------------------------------------+

gpadc_dma_rdata
-----------------
 
**地址：**  0x40002004
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                  | DMARDA                                                                                                                |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| DMARDA                                                                                                                                                                                        |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                              |
+----------+----------+--------+-------------+---------------------------------------------------+
| 31:26    | RSVD     |        |             |                                                   |
+----------+----------+--------+-------------+---------------------------------------------------+
| 25:0     | DMARDA   | R      | 26'D0       | GPADC finial conversion result stored in the FIFO |
+----------+----------+--------+-------------+---------------------------------------------------+

gpadc_reg_cmd
---------------
 
**地址：**  0x4000f90c
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD      | STEN      | SENSEL                | CSPU      | RSVD                              | MBEN      | MPG                   | M1D       | M2D       | DWEN      | RSVD      | BMB       |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| MPEN      | MBIEN     | NG        | POSSEL                                                    | NEGSEL                                                    | SRST      | CSTA      | GEN       |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+-----------------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                                      |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 31       | RSVD     |        |             |                                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 30       | STEN     | R/W    | 1'B0        | enable sensor dc test mux                                 |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 29:28    | SENSEL   | R/W    | 2'H0        | selected output current channel and measurement channel   |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h0: 1st channel                                         |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h1: 2nd channel                                         |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h2: 3rd channel                                         |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h3: 4th channel                                         |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 27       | CSPU     | R/W    | 1'B0        | enable chip sensor test                                   |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: disable                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: enable                                              |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 26:24    | RSVD     |        |             |                                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 23       | MBEN     | R/W    | 1'B0        | micboost 32db enable                                      |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: 16dB                                                |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: 32dB                                                |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 22:21    | MPG      | R/W    | 2'H0        | mic_pga2_gain                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h0: 0dB                                                 |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h1: 6dB                                                 |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h2: -6dB                                                |
+          +          +        +             +                                                           +
|          |          |        |             | 2'h3: 12dB                                                |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 20       | M1D      | R/W    | 1'B0        | mic1 diff enable                                          |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: single                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: diff                                                |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 19       | M2D      | R/W    | 1'B0        | mic2 diff enable                                          |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: single                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: diff                                                |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 18       | DWEN     | R/W    | 1'B0        | dwa enable                                                |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: dwa disable                                         |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: dwa enable                                          |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 17       | RSVD     |        |             |                                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 16       | BMB      | R/W    | 1'B0        | micboost amp bypass                                       |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: not bypass                                          |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: bypass                                              |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 15       | MPEN     | R/W    | 1'B0        | micpga enable                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: micpga disable                                      |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: miapga enable                                       |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 14       | MBIEN    | R/W    | 1'B0        | enable micbias                                            |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: micbias power down                                  |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: miabias power on                                    |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 13       | NG       | R/W    | 1'B0        | set negative input of adc to ground                       |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b0: disable                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 1'b1: enable                                              |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 12:8     | POSSEL   | R/W    | 5'HF        | select adc positive input in none-scan mode               |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0000 gpio0                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0001 gpio1                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0010 gpio2                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0011 gpio3                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0100 gpio4                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0101 gpio5                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0110 gpio6                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0111 gpio7                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1000 daca                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1001 dacb                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1010 vbat                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1011 tsen                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1100 vref                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1101 gnd                                               |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1111 disable                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 7:3      | NEGSEL   | R/W    | 5'HF        | select adc negative input in none-scan mode               |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0000 gpio0                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0001 gpio1                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0010 gpio2                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0011 gpio3                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0100 gpio4                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0101 gpio5                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0110 gpio6                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b0111 gpio7                                             |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1000 daca                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1001 dacb                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1010 vbat                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1011 tsen                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1100 vref                                              |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1101 gnd                                               |
+          +          +        +             +                                                           +
|          |          |        |             | 4'b1111 disable                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 2        | SRST     | R/W    | 1'B0        | user reset the whole block 1'h0: not reset  1'h1: reset   |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 1        | CSTA     | R/W    | 1'B0        | 1'h0: stop converation  1'h1: start converation           |
+----------+----------+--------+-------------+-----------------------------------------------------------+
| 0        | GEN      | R/W    | 1'B0        | 1'h0: disable ADC  1'h1: enable ADC                       |
+----------+----------+--------+-------------+-----------------------------------------------------------+

gpadc_reg_config1
-------------------
 
**地址：**  0x4000f910
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD      | V18SEL                | V11SEL                | DTEN      | SCEN      | SCLEN                                         | CDRD                              | CAIV      | RSVD      |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                              | RSSEL                             | CTCV      | OCEN      |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                                                                                            |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 31       | RSVD     |        |             |                                                                                                                 |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 30:29    | V18SEL   | R/W    | 2'H0        | internal vdd18 select                                                                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 28:27    | V11SEL   | R/W    | 2'H0        | internal vdd11 select                                                                                           |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 26       | DTEN     | R/W    | 1'H0        | Dither compensation enable                                                                                      |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 25       | SCEN     | R/W    | 1'H0        | select scan mode enable: 0: select  gpadc_pos/neg_sel;1: select  : select gpadc_scan_pos_x and gpadc_scan_neg_x |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 24:21    | SCLEN    | R/W    | 4'H0        | select scan mode length                                                                                         |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0000 : select gpadc_scan_pos_0 and gpadc_scan_neg_0                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0001 : select gpadc_scan_pos_1 and gpadc_scan_neg_1                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0010 : select gpadc_scan_pos_2 and gpadc_scan_neg_2                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0011 : select gpadc_scan_pos_3 and gpadc_scan_neg_3                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0100 : select gpadc_scan_pos_4 and gpadc_scan_neg_4                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0101 : select gpadc_scan_pos_5 and gpadc_scan_neg_5                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0110 : select gpadc_scan_pos_6 and gpadc_scan_neg_6                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b0111 : select gpadc_scan_pos_7 and gpadc_scan_neg_7                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b1000 : select gpadc_scan_pos_8 and gpadc_scan_neg_8                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b1001 : select gpadc_scan_pos_9 and gpadc_scan_neg_9                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b1010 : select gpadc_scan_pos_10 and gpadc_scan_neg_10                                                        |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 4'b1011 : select gpadc_scan_pos_11 and gpadc_scan_neg_11                                                        |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 20:18    | CDRD     | R/W    | 3'H3        | analog 32M clock division ratio                                                                                 |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b000: div=1                                                                                                   |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b001: div=4                                                                                                   |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b010: div=8                                                                                                   |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b011: div=12                                                                                                  |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b100: div=16                                                                                                  |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b101: div=20                                                                                                  |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b110: div=24                                                                                                  |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b111: div=32                                                                                                  |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 17       | CAIV     | R/W    | 1'B0        | analog clock 2M inverted                                                                                        |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 16:5     | RSVD     |        |             |                                                                                                                 |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 4:2      | RSSEL    | R/W    | 3'H0        | adc resolution/over-sample rate select                                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b000    12bit 2MS/s, OSR=1                                                                                    |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b001    14bit 125kS/s, OSR=16                                                                                 |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b010    14bit 31.25kS/s, OSR=64                                                                               |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b011    16bit 15.625KS/s, OSR=128 (voice mode16KS/s)                                                          |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 3'b100    16bit 7.8125KS/s, OSR=256 (voice mode 8KS/s)                                                          |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 1        | CTCV     | R/W    | 1'B1        | To enable continuous conversion                                                                                 |
+          +          +        +             +                                                                                                                 +
|          |          |        |             | 1'h0: one shot conversion  1'h1: continuous conversion                                                          |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+
| 0        | OCEN     | R/W    | 1'B0        | offset calibration enable                                                                                       |
+----------+----------+--------+-------------+-----------------------------------------------------------------------------------------------------------------+

gpadc_reg_config2
-------------------
 
**地址：**  0x4000f914
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| TDCR      | DLYSEL                            | PGA1GAIN                          | PGA2GAIN                          | TESTSEL                           | ATEN      | BSEL      | CHOPMODE  |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| CHOPMODE  | PCEN      | PEN       | POCAL                                         | PVCM                  | TSEN      | DDM       | VBEN      | VRFS      | DIFM      | RSVD                  |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                                              |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 31       | TDCR     | R/W    | 1'B0        | tsen diode current                                                |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 30:28    | DLYSEL   | R/W    | 3'H0        | adc conversion speed                                              |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 27:25    | PGA1GAIN | R/W    | 3'H0        | 3'h0: disable                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h1: gain=1                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h2: gain=2                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h3: gain=4                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h4: gain=8                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h5: gain=16                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h6: gain=32                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h7: gain=32                                                     |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 24:22    | PGA2GAIN | R/W    | 3'H0        | 3'h0: disable                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h1: gain=1                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h2: gain=2                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h3: gain=4                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h4: gain=8                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h5: gain=16                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h6: gain=32                                                     |
+          +          +        +             +                                                                   +
|          |          |        |             | 3'h7: gain=32                                                     |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 21:19    | TESTSEL  | R/W    | 3'H0        | select test point 0~7                                             |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 18       | ATEN     | R/W    | 1'B0        | Analog test enable.                                               |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 17       | BSEL     | R/W    | 1'B0        | adc analog portion low power mode select                          |
+          +          +        +             +                                                                   +
|          |          |        |             | 1'h0: Full biasing current                                        |
+          +          +        +             +                                                                   +
|          |          |        |             | 1'h1: Half biasing current                                        |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 16:15    | CHOPMODE | R/W    | 2'H3        | 2'b11    all  off                                                 |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11    Vref AZ on                                               |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11    Vref AZ and PGA chop on                                  |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11    Vref AZ and PGA chop+RPC on                              |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 14       | PCEN     | R/W    | 1'B0        | enable pga input vcm bias                                         |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 13       | PEN      | R/W    | 1'B0        | 1'h0: disable PGA 1'h1 enable PGA                                 |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 12:9     | POCAL    | R/W    | 4'H8        | pga offset calibration                                            |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 8:7      | PVCM     | R/W    | 2'H2        | Audio PGA output common mode control                              |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b00: cm=1V                                                      |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11: cm=1.2V                                                    |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11: cm=1.4V                                                    |
+          +          +        +             +                                                                   +
|          |          |        |             | 2'b11: cm=1.6V                                                    |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 6        | TSEN     | R/W    | 1'B0        | 1'h0: disable temperature sensor 1'h1: enable temperature sensor  |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 5        | DDM      | R/W    | 1'B0        | 1'h0: internal diode mode  1'h1: external diode mode              |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 4        | VBEN     | R/W    | 1'B0        | 1'h0: disable VBAT sensor 1'h1 enable VBAT sensor                 |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 3        | VRFS     | R/W    | 1'B0        | ADC reference select                                              |
+          +          +        +             +                                                                   +
|          |          |        |             | 1'h0 3.3V                                                         |
+          +          +        +             +                                                                   +
|          |          |        |             | 1'h1 1.8V                                                         |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 2        | DIFM     | R/W    | 1'B0        | 1'h0 single-ended 1'h1 differential                               |
+----------+----------+--------+-------------+-------------------------------------------------------------------+
| 1:0      | RSVD     |        |             |                                                                   |
+----------+----------+--------+-------------+-------------------------------------------------------------------+

gpadc_reg_scn_pos1
--------------------
 
**地址：**  0x4000f918
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                  | SCANP5                                                    | SCANP4                                                    | SCAN3                                         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| SCAN3     | SCANP2                                                    | SCANP1                                                    | SCANP0                                                    |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                              |
+----------+----------+--------+-------------+---------------------------------------------------+
| 31:30    | RSVD     |        |             |                                                   |
+----------+----------+--------+-------------+---------------------------------------------------+
| 29:25    | SCANP5   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 24:20    | SCANP4   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 19:15    | SCAN3    | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 14:10    | SCANP2   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 9:5      | SCANP1   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 4:0      | SCANP0   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+

gpadc_reg_scn_pos2
--------------------
 
**地址：**  0x4000f91c
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                  | SCANP11                                                   | SCANP10                                                   | SCAN9                                         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| SCAN9     | SCANP8                                                    | SCANP7                                                    | SCANP6                                                    |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                              |
+----------+----------+--------+-------------+---------------------------------------------------+
| 31:30    | RSVD     |        |             |                                                   |
+----------+----------+--------+-------------+---------------------------------------------------+
| 29:25    | SCANP11  | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 24:20    | SCANP10  | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 19:15    | SCAN9    | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 14:10    | SCANP8   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 9:5      | SCANP7   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 4:0      | SCANP6   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_pos_sel |
+----------+----------+--------+-------------+---------------------------------------------------+

gpadc_reg_scn_neg1
--------------------
 
**地址：**  0x4000f920
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                  | SCANN5                                                    | SCANN4                                                    | SCAN3                                         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| SCAN3     | SCANN2                                                    | SCANN1                                                    | SCANN0                                                    |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                              |
+----------+----------+--------+-------------+---------------------------------------------------+
| 31:30    | RSVD     |        |             |                                                   |
+----------+----------+--------+-------------+---------------------------------------------------+
| 29:25    | SCANN5   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 24:20    | SCANN4   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 19:15    | SCAN3    | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 14:10    | SCANN2   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 9:5      | SCANN1   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 4:0      | SCANN0   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+

gpadc_reg_scn_neg2
--------------------
 
**地址：**  0x4000f924
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                  | SCANN11                                                   | SCANN10                                                   | SCAN9                                         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| SCAN9     | SCANN8                                                    | SCANN7                                                    | SCANN6                                                    |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                              |
+----------+----------+--------+-------------+---------------------------------------------------+
| 31:30    | RSVD     |        |             |                                                   |
+----------+----------+--------+-------------+---------------------------------------------------+
| 29:25    | SCANN11  | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 24:20    | SCANN10  | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 19:15    | SCAN9    | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 14:10    | SCANN8   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 9:5      | SCANN7   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+
| 4:0      | SCANN6   | R/W    | 5'HF        | definition is the same as adc_reg_cmd.adc_neg_sel |
+----------+----------+--------+-------------+---------------------------------------------------+

gpadc_reg_status
------------------
 
**地址：**  0x4000f928
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                                                                                          |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                                                                              | DRDY      |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+---------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                            |
+----------+----------+--------+-------------+---------------------------------+
| 31:1     | RSVD     |        |             |                                 |
+----------+----------+--------+-------------+---------------------------------+
| 0        | DRDY     | R      | 1'B0        | ADC final conversion data ready |
+----------+----------+--------+-------------+---------------------------------+

gpadc_reg_isr
---------------
 
**地址：**  0x4000f92c
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                                                                                          |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                  | PSM       | NSM       | RSVD                  | PSC       | NSC       | RSVD                  | PS        | NS        |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+--------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                             |
+----------+----------+--------+-------------+--------------------------------------------------+
| 31:10    | RSVD     |        |             |                                                  |
+----------+----------+--------+-------------+--------------------------------------------------+
| 9        | PSM      | R/W    | 1'H0        | write 1 mask                                     |
+----------+----------+--------+-------------+--------------------------------------------------+
| 8        | NSM      | R/W    | 1'H0        | write 1 mask                                     |
+----------+----------+--------+-------------+--------------------------------------------------+
| 7:6      | RSVD     |        |             |                                                  |
+----------+----------+--------+-------------+--------------------------------------------------+
| 5        | PSC      | R/W    | 1'B0        | Write 1 to clear flag                            |
+----------+----------+--------+-------------+--------------------------------------------------+
| 4        | NSC      | R/W    | 1'B0        | Write 1 to clear flag                            |
+----------+----------+--------+-------------+--------------------------------------------------+
| 3:2      | RSVD     |        |             |                                                  |
+----------+----------+--------+-------------+--------------------------------------------------+
| 1        | PS       | R      | 1'B0        | ADC data positive side saturation interrupt flag |
+----------+----------+--------+-------------+--------------------------------------------------+
| 0        | NS       | R      | 1'B0        | ADC data negative side saturation interrupt flag |
+----------+----------+--------+-------------+--------------------------------------------------+

gpadc_reg_result
------------------
 
**地址：**  0x4000f930
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                  | DATAOUT                                                                                                               |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| DATAOUT                                                                                                                                                                                       |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+----------------------------------------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                                                             |
+----------+----------+--------+-------------+----------------------------------------------------------------------------------+
| 31:26    | RSVD     |        |             |                                                                                  |
+----------+----------+--------+-------------+----------------------------------------------------------------------------------+
| 25:0     | DATAOUT  | R      | 26'H1EF0000 | ADC finial conversion result data, after calibration and signed/unsigned process |
+----------+----------+--------+-------------+----------------------------------------------------------------------------------+

gpadc_reg_raw_result
----------------------
 
**地址：**  0x4000f934
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                                                                                          |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                          | RAWDATA                                                                                                                                       |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+--------------+
| 位       | 名称     |权限    | 复位值      | 描述         |
+----------+----------+--------+-------------+--------------+
| 31:12    | RSVD     |        |             |              |
+----------+----------+--------+-------------+--------------+
| 11:0     | RAWDATA  | R      | 12'H0       | ADC Raw data |
+----------+----------+--------+-------------+--------------+

gpadc_reg_define
------------------
 
**地址：**  0x4000f938
 

+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        | 
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| RSVD                                                                                                                                                                                          |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 
| OSCDATA                                                                                                                                                                                       |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+ 

+----------+----------+--------+-------------+------------------------------------------------------------+
| 位       | 名称     |权限    | 复位值      | 描述                                                       |
+----------+----------+--------+-------------+------------------------------------------------------------+
| 31:16    | RSVD     |        |             |                                                            |
+----------+----------+--------+-------------+------------------------------------------------------------+
| 15:0     | OSCDATA  | R/W    | 16'H0       | User defined or self calculated offset data 16-bit signed  |
+----------+----------+--------+-------------+------------------------------------------------------------+

