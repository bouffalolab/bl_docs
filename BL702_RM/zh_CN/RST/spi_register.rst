
寄存器描述
====================

+----------------------+----------------------------------+
| 名称                 | 描述                             |
+----------------------+----------------------------------+
| `spi_config`_        | SPI configuration register       |
+----------------------+----------------------------------+
| `spi_int_sts`_       | SPI interrupt status             |
+----------------------+----------------------------------+
| `spi_bus_busy`_      | SPI bus busy                     |
+----------------------+----------------------------------+
| `spi_prd_0`_         | SPI length control register      |
+----------------------+----------------------------------+
| `spi_prd_1`_         | SPI length of interval           |
+----------------------+----------------------------------+
| `spi_rxd_ignr`_      | SPI ingnore function             |
+----------------------+----------------------------------+
| `spi_sto_value`_     | SPI time-out value               |
+----------------------+----------------------------------+
| `spi_fifo_config_0`_ | SPI FIFO configuration register0 |
+----------------------+----------------------------------+
| `spi_fifo_config_1`_ | SPI FIFO configuration register1 |
+----------------------+----------------------------------+
| `spi_fifo_wdata`_    | SPI FIFO write data              |
+----------------------+----------------------------------+
| `spi_fifo_rdata`_    | SPI FIFO read data               |
+----------------------+----------------------------------+

spi_config
------------
 
**地址：**  0x4000a200
 
.. figure:: ../../picture/spi_spi_config.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                                                                             |
    +==========+==============================+========+=============+==================================================================================================================+
    | 31:16    | RSVD                         |        |             |                                                                                                                  |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 15:12    | cr_spi_deg_cnt               | r/w    | 4'd0        | De-glitch function cycle count                                                                                   |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 11       | cr_spi_deg_en                | r/w    | 1'b0        | Enable signal of all input de-glitch function                                                                    |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 10       | RSVD                         |        |             |                                                                                                                  |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 9        | cr_spi_m_cont_en             | r/w    | 1'b0        | Enable signal of master continuous transfer mode                                                                 |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 1'b0: Disabled, SS_n will de-assert between each data frame                                                      |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 1'b1: Enabled, SS_n will stay asserted between each consecutive data frame if the next data is valid in the FIFO |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 8        | cr_spi_rxd_ignr_en           | r/w    | 1'b0        | Enable signal of RX data ignore function                                                                         |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 7        | cr_spi_byte_inv              | r/w    | 1'b0        | Byte-inverse signal for each FIFO entry data                                                                     |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 0: Byte[0] is sent out first                                                                                     |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 1: Byte[3] is sent out first                                                                                     |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 6        | cr_spi_bit_inv               | r/w    | 1'b0        | Bit-inverse signal for each data byte                                                                            |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 0: Each byte is sent out MSB-first                                                                               |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 1: Each byte is sent out LSB-first                                                                               |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 5        | cr_spi_sclk_ph               | r/w    | 1'b0        | SCLK clock phase inverse signal                                                                                  |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 4        | cr_spi_sclk_pol              | r/w    | 1'b0        | SCLK polarity                                                                                                    |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 0: SCLK output LOW at IDLE state                                                                                 |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 1: SCLK output HIGH at IDLE state                                                                                |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 3:2      | cr_spi_frame_size            | r/w    | 2'd0        | SPI frame size (also the valid width for each FIFO entry)                                                        |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 2'd0: 8-bit                                                                                                      |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 2'd1: 16-bit                                                                                                     |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 2'd2: 24-bit                                                                                                     |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | 2'd3: 32-bit                                                                                                     |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 1        | cr_spi_s_en                  | r/w    | 1'b0        | Enable signal of SPI Slave function, Master and Slave should not be both enabled at the same time                |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | (This bit becomes don't-care if cr_spi_m_en is enabled)                                                          |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+
    | 0        | cr_spi_m_en                  | r/w    | 1'b0        | Enable signal of SPI Master function                                                                             |
    +          +                              +        +             +                                                                                                                  +
    |          |                              |        |             | Asserting this bit will trigger the transaction, and should be de-asserted after finish                          |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------------------+

spi_int_sts
-------------
 
**地址：**  0x4000a204
 
.. figure:: ../../picture/spi_spi_int_sts.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                                                                 |
    +==========+==============================+========+=============+======================================================================================================+
    | 31:30    | RSVD                         |        |             |                                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 29       | cr_spi_fer_en                | r/w    | 1'b1        | Interrupt enable of spi_fer_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 28       | cr_spi_txu_en                | r/w    | 1'b1        | Interrupt enable of spi_txu_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 27       | cr_spi_sto_en                | r/w    | 1'b1        | Interrupt enable of spi_sto_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 26       | cr_spi_rxf_en                | r/w    | 1'b1        | Interrupt enable of spi_rxv_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 25       | cr_spi_txf_en                | r/w    | 1'b1        | Interrupt enable of spi_txe_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 24       | cr_spi_end_en                | r/w    | 1'b1        | Interrupt enable of spi_end_int                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 23:21    | RSVD                         |        |             |                                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 20       | cr_spi_txu_clr               | w1c    | 1'b0        | Interrupt clear of spi_txu_int                                                                       |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 19       | cr_spi_sto_clr               | w1c    | 1'b0        | Interrupt clear of spi_sto_int                                                                       |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 18:17    | RSVD                         |        |             |                                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 16       | cr_spi_end_clr               | w1c    | 1'b0        | Interrupt clear of spi_end_int                                                                       |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 15:14    | RSVD                         |        |             |                                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 13       | cr_spi_fer_mask              | r/w    | 1'b1        | Interrupt mask of spi_fer_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 12       | cr_spi_txu_mask              | r/w    | 1'b1        | Interrupt mask of spi_txu_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 11       | cr_spi_sto_mask              | r/w    | 1'b1        | Interrupt mask of spi_sto_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 10       | cr_spi_rxf_mask              | r/w    | 1'b1        | Interrupt mask of spi_rxv_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 9        | cr_spi_txf_mask              | r/w    | 1'b1        | Interrupt mask of spi_txe_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 8        | cr_spi_end_mask              | r/w    | 1'b1        | Interrupt mask of spi_end_int                                                                        |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 7:6      | RSVD                         |        |             |                                                                                                      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 5        | spi_fer_int                  | r      | 1'b0        | SPI TX/RX FIFO error interrupt, auto-cleared when FIFO overflow/underflow error flag is cleared      |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 4        | spi_txu_int                  | r      | 1'b0        | SPI slave mode TX underrun error flag, triggered when TXD is not ready during transfer in slave mode |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 3        | spi_sto_int                  | r      | 1'b0        | SPI slave mode transfer time-out interrupt, triggered when SPI bus is idle for a given value         |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 2        | spi_rxf_int                  | r      | 1'b0        | SPI RX FIFO ready (rx_fifo_cnt > rx_fifo_th) interrupt, auto-cleared when data is popped             |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 1        | spi_txf_int                  | r      | 1'b0        | SPI TX FIFO ready (tx_fifo_cnt > tx_fifo_th) interrupt, auto-cleared when data is pushed             |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+
    | 0        | spi_end_int                  | r      | 1'b0        | SPI transfer end interrupt, shared by both master and slave mode                                     |
    +          +                              +        +             +                                                                                                      +
    |          |                              |        |             | Master mode: Triggered when the final frame is transferred                                           |
    +          +                              +        +             +                                                                                                      +
    |          |                              |        |             | Slave mode: Triggered when CS_n is de-asserted                                                       |
    +----------+------------------------------+--------+-------------+------------------------------------------------------------------------------------------------------+

spi_bus_busy
--------------
 
**地址：**  0x4000a208
 
.. figure:: ../../picture/spi_spi_bus_busy.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+---------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                      |
    +==========+==============================+========+=============+===========================+
    | 31:1     | RSVD                         |        |             |                           |
    +----------+------------------------------+--------+-------------+---------------------------+
    | 0        | sts_spi_bus_busy             | r      | 1'b0        | Indicator of SPI bus busy |
    +----------+------------------------------+--------+-------------+---------------------------+

spi_prd_0
-----------
 
**地址：**  0x4000a210
 
.. figure:: ../../picture/spi_spi_prd_0.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                     |
    +==========+==============================+========+=============+==========================================================+
    | 31:24    | cr_spi_prd_d_ph_1            | r/w    | 8'd15       | Length of DATA phase 1 (please refer to "Timing" tab)    |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 23:16    | cr_spi_prd_d_ph_0            | r/w    | 8'd15       | Length of DATA phase 0 (please refer to "Timing" tab)    |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 15:8     | cr_spi_prd_p                 | r/w    | 8'd15       | Length of STOP condition (please refer to "Timing" tab)  |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 7:0      | cr_spi_prd_s                 | r/w    | 8'd15       | Length of START condition (please refer to "Timing" tab) |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+

spi_prd_1
-----------
 
**地址：**  0x4000a214
 
.. figure:: ../../picture/spi_spi_prd_1.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                            |
    +==========+==============================+========+=============+=================================================================+
    | 31:8     | RSVD                         |        |             |                                                                 |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------+
    | 7:0      | cr_spi_prd_i                 | r/w    | 8'd15       | Length of INTERVAL between frame (please refer to "Timing" tab) |
    +----------+------------------------------+--------+-------------+-----------------------------------------------------------------+

spi_rxd_ignr
--------------
 
**地址：**  0x4000a218
 
.. figure:: ../../picture/spi_spi_rxd_ignr.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                      |
    +==========+==============================+========+=============+===========================================+
    | 31:21    | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 20:16    | cr_spi_rxd_ignr_s            | r/w    | 5'd0        | Starting point of RX data ignore function |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 15:5     | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 4:0      | cr_spi_rxd_ignr_p            | r/w    | 5'd0        | Stopping point of RX data ignore function |
    +----------+------------------------------+--------+-------------+-------------------------------------------+

spi_sto_value
---------------
 
**地址：**  0x4000a21c
 
.. figure:: ../../picture/spi_spi_sto_value.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                      |
    +==========+==============================+========+=============+===========================================+
    | 31:12    | RSVD                         |        |             |                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------+
    | 11:0     | cr_spi_sto_value             | r/w    | 12'hFFF     | Time-out value for spi_sto_int triggering |
    +----------+------------------------------+--------+-------------+-------------------------------------------+

spi_fifo_config_0
-------------------
 
**地址：**  0x4000a280
 
.. figure:: ../../picture/spi_spi_fifo_config_0.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                     |
    +==========+==============================+========+=============+==========================================================+
    | 31:8     | RSVD                         |        |             |                                                          |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 7        | rx_fifo_underflow            | r      | 1'b0        | Underflow flag of RX FIFO, can be cleared by rx_fifo_clr |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 6        | rx_fifo_overflow             | r      | 1'b0        | Overflow flag of RX FIFO, can be cleared by rx_fifo_clr  |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 5        | tx_fifo_underflow            | r      | 1'b0        | Underflow flag of TX FIFO, can be cleared by tx_fifo_clr |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 4        | tx_fifo_overflow             | r      | 1'b0        | Overflow flag of TX FIFO, can be cleared by tx_fifo_clr  |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 3        | rx_fifo_clr                  | w1c    | 1'b0        | Clear signal of RX FIFO                                  |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 2        | tx_fifo_clr                  | w1c    | 1'b0        | Clear signal of TX FIFO                                  |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 1        | spi_dma_rx_en                | r/w    | 1'b0        | Enable signal of dma_rx_req/ack interface                |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+
    | 0        | spi_dma_tx_en                | r/w    | 1'b0        | Enable signal of dma_tx_req/ack interface                |
    +----------+------------------------------+--------+-------------+----------------------------------------------------------+

spi_fifo_config_1
-------------------
 
**地址：**  0x4000a284
 
.. figure:: ../../picture/spi_spi_fifo_config_1.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 位       | 名称                         |权限    | 复位值      | 描述                                                                                      |
    +==========+==============================+========+=============+===========================================================================================+
    | 31:26    | RSVD                         |        |             |                                                                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 25:24    | rx_fifo_th                   | r/w    | 2'd0        | RX FIFO threshold, dma_rx_req will not be asserted if tx_fifo_cnt is less than this value |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 23:18    | RSVD                         |        |             |                                                                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 17:16    | tx_fifo_th                   | r/w    | 2'd0        | TX FIFO threshold, dma_tx_req will not be asserted if tx_fifo_cnt is less than this value |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 15:11    | RSVD                         |        |             |                                                                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 10:8     | rx_fifo_cnt                  | r      | 3'd0        | RX FIFO available count                                                                   |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 7:3      | RSVD                         |        |             |                                                                                           |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+
    | 2:0      | tx_fifo_cnt                  | r      | 3'd4        | TX FIFO available count                                                                   |
    +----------+------------------------------+--------+-------------+-------------------------------------------------------------------------------------------+

spi_fifo_wdata
----------------
 
**地址：**  0x4000a288
 
.. figure:: ../../picture/spi_spi_fifo_wdata.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-----+
    | 位       | 名称                         |权限    | 复位值      | 描述|
    +==========+==============================+========+=============+=====+
    | 31:0     | spi_fifo_wdata               | w      | x           |     |
    +----------+------------------------------+--------+-------------+-----+

spi_fifo_rdata
----------------
 
**地址：**  0x4000a28c
 
.. figure:: ../../picture/spi_spi_fifo_rdata.svg
   :align: center

.. table::
    :widths: 10, 15,10,10,55
    :width: 100%
    :align: center
     
    +----------+------------------------------+--------+-------------+-----+
    | 位       | 名称                         |权限    | 复位值      | 描述|
    +==========+==============================+========+=============+=====+
    | 31:0     | spi_fifo_rdata               | r      | 32'h0       |     |
    +----------+------------------------------+--------+-------------+-----+

