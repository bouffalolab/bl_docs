<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. ADC &mdash; BL702/704/706 Reference Manual  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. DAC" href="DAC.html" />
    <link rel="prev" title="3. GLB" href="GLB.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BL702/704/706 Reference Manual
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="SystemAndMemoryOverview.html">1. System and memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResetAndClock.html">2. Reset and clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="GLB.html">3. GLB</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. ADC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adc-introduction">4.1. ADC introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adc-main-features">4.2. ADC main features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adc-functional-description">4.3. ADC functional description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adc-pins-and-internal-signals">4.3.1. ADC pins and internal signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-channel">4.3.2. ADC channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-clock">4.3.3. ADC clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-conversion-mode">4.3.4. ADC conversion mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-consequence">4.3.5. ADC consequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-interrupt">4.3.6. ADC interrupt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-fifo">4.3.7. ADC FIFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-configuration-process">4.3.8. ADC configuration process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vbat-measurement">4.3.9. VBAT measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tsen-measurement">4.3.10. TSEN measurement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#register-description">4.4. Register description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-config">4.4.1. gpadc_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-dma-rdata">4.4.2. gpadc_dma_rdata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpdac-config">4.4.3. gpdac_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpdac-dma-config">4.4.4. gpdac_dma_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpdac-dma-wdata">4.4.5. gpdac_dma_wdata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-cmd">4.4.6. gpadc_reg_cmd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-config1">4.4.7. gpadc_reg_config1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-config2">4.4.8. gpadc_reg_config2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-scn-pos1">4.4.9. gpadc_reg_scn_pos1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-scn-pos2">4.4.10. gpadc_reg_scn_pos2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-scn-neg1">4.4.11. gpadc_reg_scn_neg1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-scn-neg2">4.4.12. gpadc_reg_scn_neg2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-status">4.4.13. gpadc_reg_status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-isr">4.4.14. gpadc_reg_isr</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-raw-result">4.4.15. gpadc_reg_raw_result</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-reg-define">4.4.16. gpadc_reg_define</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DAC.html">5. DAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="DMA.html">6. DMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="L1C.html">7. L1C</a></li>
<li class="toctree-l1"><a class="reference internal" href="IR.html">8. IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="SPI.html">9. SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="UART.html">10. UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2C.html">11. I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="PWM.html">12. PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TIMER.html">13. TIMER</a></li>
<li class="toctree-l1"><a class="reference internal" href="QDEC.html">14. QDEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyScan.html">15. KeyScan</a></li>
<li class="toctree-l1"><a class="reference internal" href="I2S.html">16. I2S</a></li>
<li class="toctree-l1"><a class="reference internal" href="EMAC.html">17. Emac</a></li>
<li class="toctree-l1"><a class="reference internal" href="USB.html">18. USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">19. Revision history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BL702/704/706 Reference Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">4. </span>ADC</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="adc">
<h1><span class="section-number">4. </span>ADC<a class="headerlink" href="#adc" title="Permalink to this headline"></a></h1>
<section id="adc-introduction">
<h2><span class="section-number">4.1. </span>ADC introduction<a class="headerlink" href="#adc-introduction" title="Permalink to this headline"></a></h2>
<p>The chip contains a 12-bit successive approximation analog-to-digital
converter (ADC), which supports 12 external analog inputs and several
internal analog signal selections.</p>
<p>ADC supports the following four modes: single-shot single-channel conversion, continuous single-channel conversion, single-shot multi-channel conversion, and continuous multi-channel conversion mode.
The conversion result is 12/14/16bits left-justified mode.
The ADC has a depth of 32 FIFOs and supports multiple interrupts
and DMA operations. In addition to ordinary analog signal measurement,
the ADC can also be used to measure the supply voltage. In addition,
the ADC can also be used for temperature detection by measuring the
internal/external diode voltage.</p>
</section>
<section id="adc-main-features">
<h2><span class="section-number">4.2. </span>ADC main features<a class="headerlink" href="#adc-main-features" title="Permalink to this headline"></a></h2>
<ul>
<li><p>High performance</p>
<blockquote>
<div><ul class="simple">
<li><p>12/14/16bits conversion result output</p></li>
<li><p>ADC maximum working clock is 2MHZ</p></li>
<li><p>2.0V,3.2V optional reference voltage</p></li>
<li><p>DMA support</p></li>
<li><p>Supports four modes: single-shot single-channel conversion, continuous single-channel conversion, single-shot multi-channel conversion, and continuous multi-channel conversion mode</p></li>
<li><p>Two input modes: single-ended and differential</p></li>
<li><p>Support jitter compensation</p></li>
<li><p>User can set conversion result offset value</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Analog channels</p>
<blockquote>
<div><ul class="simple">
<li><p>12 external analog channels</p></li>
<li><p>2 DAC internal channels</p></li>
<li><p>1 VBAT / 2 channel</p></li>
<li><p>1 TSEN channel</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="adc-functional-description">
<h2><span class="section-number">4.3. </span>ADC functional description<a class="headerlink" href="#adc-functional-description" title="Permalink to this headline"></a></h2>
<p>The basic block diagram of the ADC is shown below.</p>
<figure class="align-center" id="id1">
<img alt="../_images/ADCBasicStruct.svg" src="../_images/ADCBasicStruct.svg" /><figcaption>
<p><span class="caption-number">Fig. 4.1 </span><span class="caption-text">ADC block diagram</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The ADC consists of five parts: front-end input channel selector,
program-controlled amplifier, ADC sampling module, data processing
module, and FIFO.</p>
<p>The input channel selector is used to select the channel to be sampled.
It contains both external analog signals and internal analog signals.
The program-controlled amplifier is used to further process the input
signal. It can be set according to the characteristics of the input
signal, such as DC and AC. In order to get more accurate conversion
values.</p>
<p>The ADC sampling module is the most important function module.
It obtains the conversion from analog signals to digital signals
through successive comparisons. The conversion result is 12bit.
The data processing module is responsible for further processing
the conversion results, including adding channel information.
The resulting data is pushed into the FIFO.</p>
<section id="adc-pins-and-internal-signals">
<h3><span class="section-number">4.3.1. </span>ADC pins and internal signals<a class="headerlink" href="#adc-pins-and-internal-signals" title="Permalink to this headline"></a></h3>
<table class="colwidths-given docutils align-center" id="id2" style="width: 100%">
<caption><span class="caption-number">Table 4.1 </span><span class="caption-text">ADC internal signals</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>internal signals</p></th>
<th class="head"><p>Signal type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VBAT/2</p></td>
<td><p>Input</p></td>
<td><p>Voltage signal divided from the power pin</p></td>
</tr>
<tr class="row-odd"><td><p>TSEN</p></td>
<td><p>Input</p></td>
<td><p>Internal temperature sensor output voltage</p></td>
</tr>
<tr class="row-even"><td><p>VREF</p></td>
<td><p>Input</p></td>
<td><p>Internal analog module reference voltage</p></td>
</tr>
<tr class="row-odd"><td><p>DACOUTA</p></td>
<td><p>Input</p></td>
<td><p>DAC module output</p></td>
</tr>
<tr class="row-even"><td><p>DACOUTB</p></td>
<td><p>Input</p></td>
<td><p>DAC module output</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-center" id="id3" style="width: 100%">
<caption><span class="caption-number">Table 4.2 </span><span class="caption-text">ADC external pins</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>external pins</p></th>
<th class="head"><p>Signal type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VDDA</p></td>
<td><p>Input</p></td>
<td><p>Analog power supply and positive reference voltage for the ADC</p></td>
</tr>
<tr class="row-odd"><td><p>VSSA</p></td>
<td><p>Input</p></td>
<td><p>Ground for analog power supply</p></td>
</tr>
<tr class="row-even"><td><p>ADC_CHX</p></td>
<td><p>Input</p></td>
<td><p>12 analog input channels</p></td>
</tr>
</tbody>
</table>
</section>
<section id="adc-channel">
<h3><span class="section-number">4.3.2. </span>ADC channel<a class="headerlink" href="#adc-channel" title="Permalink to this headline"></a></h3>
<p>The channels that can be selected by the ADC include the input signals of external
analog pins and the optional signals inside the chip:</p>
<ul class="simple">
<li><p>ADC CH0</p></li>
<li><p>ADC CH1</p></li>
<li><p>ADC CH2</p></li>
<li><p>ADC CH3</p></li>
<li><p>ADC CH4</p></li>
<li><p>ADC CH5</p></li>
<li><p>ADC CH6</p></li>
<li><p>ADC CH7</p></li>
<li><p>ADC CH8</p></li>
<li><p>ADC CH9</p></li>
<li><p>ADC CH10</p></li>
<li><p>ADC CH11</p></li>
<li><p>VSSA</p></li>
<li><p>DAC OUTA</p></li>
<li><p>DAC OUTB</p></li>
<li><p>VBAT/2</p></li>
<li><p>TSEN</p></li>
<li><p>VREF</p></li>
<li><p>GND</p></li>
</ul>
<p>It should be noted that if VBAT/2 or TSEN is selected as the input signal to be
acquired, gpadc_vbat_en or gpadc_ts_en needs to be set.</p>
<p>The ADC module can support single-ended input or differential input.
If it is single-ended input mode, the negative input channel needs to select GND.</p>
</section>
<section id="adc-clock">
<h3><span class="section-number">4.3.3. </span>ADC clock<a class="headerlink" href="#adc-clock" title="Permalink to this headline"></a></h3>
<p>The working clock source of the ADC module is shown in the following figure:</p>
<figure class="align-center" id="id4">
<img alt="../_images/ADCClock.svg" src="../_images/ADCClock.svg" /><figcaption>
<p><span class="caption-number">Fig. 4.2 </span><span class="caption-text">ADC Clock</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The ADC clock source can select Audio PLL，XCLK or f32k.The clock source selection is set in the GLB module.While selecting, the clock source can be divided by the frequency divider.</p>
<p>In general voltage measurement applications, users can choose XCLK as the clock source. In audio applications, users can use AUPLL to generate common sampling clocks such as 8KHZ and 44.1KHZ. f32k is a low-frequency clock, which provides a wake-up clock when the MCU sleeps.</p>
<p>Inside the ADC module, a clock divider is provided, which can divide the input clock by 1/4/8/12/16/20/24/32. Users can adjust the ADC clock source and various frequency division coefficients according to actual sampling requirements. Note that the maximum input clock of ADC is 2MHZ.</p>
<p>The width of the gpadc_32m_clk_div divider register is 6bits, the maximum divider is 64, and the divider formula is fout=fsource/(gpadc_32m_clk_div+1).</p>
<p>The gpadc_clk_div_ratio divider register is located inside the ADC module, with a width of 3bits, and its divider value is defined as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ADC_CLK_DIV_1</span><span class="p">,</span><span class="w">                          </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 32M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_4</span><span class="p">,</span><span class="w">                          </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 8M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_8</span><span class="p">,</span><span class="w">                          </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 4M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_12</span><span class="p">,</span><span class="w">                         </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 2.666M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_16</span><span class="p">,</span><span class="w">                         </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 2M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_20</span><span class="p">,</span><span class="w">                         </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 1.6M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_24</span><span class="p">,</span><span class="w">                         </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 1.333M */</span><span class="w"></span>
<span class="n">ADC_CLK_DIV_32</span><span class="p">,</span><span class="w">                         </span><span class="cm">/*!&lt; ADC clock:on 32M clock is 1M */</span><span class="w"></span>
</pre></div>
</div>
<p>If the user wants to adjust the ADC input clock, there are four ways.</p>
<ol class="arabic simple">
<li><p>Switch the clock source, XTAL defaults to 32MHZ, Audio PLL (can be configured to 11.288MHZ or 11.2896MHZ).</p></li>
<li><p>Use a frequency divider with a length of 6BITS in the clock module.</p></li>
<li><p>Using the frequency divider in the ADC module, the optional frequency division is 1/4/8/12/16/20/24/32.</p></li>
<li><p>By configuring the gpadc_res_sel register, change the value of OSR to achieve the frequency effect. If OSR=256, the actual equivalent ADC input clock is divided by 256.</p></li>
</ol>
<p>Assuming that the clock source selection is Audio PLL=11.2896MHZ, the GLB frequency division selection configuration is 1, the ADC internal frequency divider is selected ADC_CLK_DIV_4, OSR=128,
then the final clock output is fout = 11289600 / (1 + 1) / 4/128 = 11025HZ</p>
</section>
<section id="adc-conversion-mode">
<h3><span class="section-number">4.3.4. </span>ADC conversion mode<a class="headerlink" href="#adc-conversion-mode" title="Permalink to this headline"></a></h3>
<p>The ADC supports two conversion modes: single-channel conversion mode and scan mode.</p>
<p>In single-channel conversion mode, the user needs to select the positive
input channel through gpadc_pos_sel, select the negative input channel
through gpadc_neg_sel, and set the gpadc_cont_conv_en control bit to 0,
which means single-channel conversion, and then set the gpadc_conv_start
control bit to start the conversion.</p>
<p>In scan conversion mode, the gpadc_cont_conv_en control bit needs to be
set to 1, and the number of conversion channels set by the ADC according
to the gpadc_scan_length control bit. According to the channel order set
by the gpadc_reg_scn_posX (X = 1, 2) and gpadc_reg_scn_negX (X = 1, 2)
registers, the conversion is performed one by one, and the result of the
conversion is automatically pushed into the ADC FIFO. The channels set by
the gpadc_reg_scn_posX (X = 1, 2) and gpadc_reg_scn_negX (X = 1, 2)
registers can be the same, which means that users can implement multiple
sampling conversions on a channel.</p>
<p>ADC conversion results are generally placed in the FIFO.
The ADC module does not provide conversion completion interrupts.
Users need to set the FIFO receive data threshold interrupt based
on the actual number of conversion channels. The FIFO threshold
interrupt is used as the ADC conversion completion interrupt.</p>
</section>
<section id="adc-consequence">
<h3><span class="section-number">4.3.5. </span>ADC consequence<a class="headerlink" href="#adc-consequence" title="Permalink to this headline"></a></h3>
<p>The gpadc_raw_data register stores the raw result of the ADC.
In single-ended mode, the data valid bit is 12bits, unsigned bit.
In differential mode, the highest bit is the sign bit.
The remaining 11bits represent the result of the conversion.</p>
<p>The gpadc_data_out register stores the ADC result.
This result contains the ADC result, sign bit and channel information.
The data format is as follows:</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 4.3 </span><span class="caption-text">ADC conversion result format</span><a class="headerlink" href="#id5" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BitS</p></th>
<th class="head"><p>25</p></th>
<th class="head"><p>24</p></th>
<th class="head"><p>23</p></th>
<th class="head"><p>22</p></th>
<th class="head"><p>21</p></th>
<th class="head"><p>20</p></th>
<th class="head"><p>19</p></th>
<th class="head"><p>18</p></th>
<th class="head"><p>17</p></th>
<th class="head"><p>16</p></th>
<th class="head"><p>15</p></th>
<th class="head"><p>14</p></th>
<th class="head"><p>13</p></th>
<th class="head"><p>12</p></th>
<th class="head"><p>11</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>9</p></th>
<th class="head"><p>8</p></th>
<th class="head"><p>7</p></th>
<th class="head"><p>6</p></th>
<th class="head"><p>5</p></th>
<th class="head"><p>4</p></th>
<th class="head"><p>3</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>meaning</p></td>
<td colspan="5"><p>Positive channel number</p></td>
<td colspan="5"><p>Negative channel number</p></td>
<td colspan="16"><p>Conversion result</p></td>
</tr>
</tbody>
</table>
<p>bit21-bit25 of the conversion result is the positive channel number,
bit16-bit20 is the negative channel number, and bit0-bit15 is the
converted value.</p>
<p>The gpadc_res_sel control bit can set the number of bits of the
conversion result, which are 12 bits, 14 bits, and 16 bits,
respectively. Among them, 14 bits and 16 bits are the results
obtained by multiple sampling to improve the accuracy.</p>
<p>The values that can be set are as follows:</p>
<ul class="simple">
<li><p>3’b000    12bit 2MS/s, OSR=1</p></li>
<li><p>3’b001    14bit 125kS/s, OSR=16</p></li>
<li><p>3’b010    14bit 31.25kS/s, OSR=64</p></li>
<li><p>3’b011    16bit 15.625KS/s, OSR=128</p></li>
<li><p>3’b100    16bit 7.8125KS/s, OSR=256</p></li>
</ul>
<p>The ADC conversion result is left-justified.
When 12 bits are selected, bit15-bit4 of the conversion result is
valid. When 14 bits are selected, bit15-bit2 of the conversion result
is valid. When 16 bits are selected, bit15-bit0 of the conversion
result is valid.</p>
<p>Similarly, in the differential mode, the highest is the sign, that is,
when 14 bits are selected, bit15 is the sign bit, bit14-bit2 is the
conversion result, and bit14 is the MSB.</p>
<p>In single-ended mode, there is no sign bit, that is, when 12 bits
are selected, bit15-bit4 is the conversion result and bit15 is the MSB.</p>
<p>In actual use, the results of the ADC are generally placed in the
FIFO, which is particularly important in the multi-channel scan mode.
Therefore, users generally obtain conversion results from the ADC FIFO. The data format of the ADC FIFO is the same in the gpadc_data_out register.</p>
</section>
<section id="adc-interrupt">
<h3><span class="section-number">4.3.6. </span>ADC interrupt<a class="headerlink" href="#adc-interrupt" title="Permalink to this headline"></a></h3>
<p>The ADC module can generate interrupts when the positive sampling
is saturated and the negative sampling is saturated. The respective
interrupts can be masked by gpadc_pos_satur_mask, gpadc_neg_satur_mask.</p>
<p>When the interrupt is generated, the interrupt status can be queried
by the gpadc_pos_satur, and gpadc_neg_satur registers, and the
interrupt can be cleared by gpadc_pos_satur_clr and gpadc_neg_satur_clr.
This function can be used to determine whether the input voltage
is abnormal.</p>
</section>
<section id="adc-fifo">
<h3><span class="section-number">4.3.7. </span>ADC FIFO<a class="headerlink" href="#adc-fifo" title="Permalink to this headline"></a></h3>
<p>The ADC module has a FIFO with a depth of 32 and a data width of 26Bits.
After the ADC completes the conversion, it will automatically push
the result into the FIFO. The ADC’s FIFO has the following status
and interrupt management functions:</p>
<ul class="simple">
<li><p>FIFO Overrun interrupt</p></li>
<li><p>FIFO Underrun interrupt</p></li>
<li><p>FIFO threshold interrupt</p></li>
</ul>
<p>When the FIFO is full, but the user does not read the value through DMA or direct access to the register, and data enters the FIFO again, the module will generate a FIFO Overrun interrupt at this time.</p>
<p>When the FIFO is empty, but the user still requests data from the FIFO, the module will generate a FIFO Underrun interrupt at this time.</p>
<p>The user can configure the FIFO threshold register gpadc_fifo_thl, select the threshold for FIFO to generate interrupts, and choose 1, 4, 8, and 16. If the number of ADC FIFOs reaches the set threshold, a threshold interrupt will be generated.</p>
<p>When an interrupt occurs, the interrupt flag can be cleared by
the corresponding clear bit.</p>
<p>Using the ADC’s FIFO, users can implement three modes of data
acquisition: query mode, interrupt mode, and DMA mode.</p>
<p><strong>Query mode</strong></p>
<p>The CPU polls the length of the ADC FIFO. When the length of the FIFO is not empty, it indicates that there are valid data in the FIFO, and the CPU can read these data from the FIFO.</p>
<p><strong>Interrupt mode</strong></p>
<p>Using the threshold interrupt of the FIFO, when the interrupt is generated and the number of ADC data reaches the threshold, the CPU can read the length of the ADC FIFO in the interrupt service function and read it all.</p>
<p><strong>DMA mode</strong></p>
<p>The user sets the dmaen control bit, which can cooperate with the DMA to complete the transfer of the converted data to the memory. When using the DMA mode, set the threshold of the number of data sent by the ADC FIFO through the fifothl. When the DMA receives the request, it will automatically follow the user settings. The specified parameters transfer the specified number of results from the FIFO to the corresponding memory.</p>
</section>
<section id="adc-configuration-process">
<h3><span class="section-number">4.3.8. </span>ADC configuration process<a class="headerlink" href="#adc-configuration-process" title="Permalink to this headline"></a></h3>
<p><strong>Setting the ADC clock</strong></p>
<p>According to the ADC conversion speed requirements, determine the
working clock of the ADC, set the ADC clock source and frequency
division of the GLB module, and combine with clkdvrt
to determine the final working module’s clock frequency.</p>
<p><strong>Set GPIO according to the channel used</strong></p>
<p>According to the analog pin used, determine the channel number
used, initialize the corresponding GPIO as an analog function.
It should be noted that when setting the GPIO as an analog input,
do not set the GPIO pull-up or pull-down, you need to set it to
float.</p>
<p><strong>Set the channel to be converted</strong></p>
<p>Set the corresponding channel register according to the analog
channel and conversion mode used.</p>
<p>For single-channel conversion, set the converted channel
information in the possel and negsel registers.</p>
<p>For multi-channel scanning mode, set sclen,
scpX and scnX according to the
number of scanning channels and scanning order.</p>
<p><strong>Set the data reading method</strong></p>
<p>According to the way of reading data introduced by ADC FIFO,
select the mode to use and set the corresponding register.
If you use DMA, you also need to configure a channel of DMA
to cooperate with the ADC FIFO to complete the data transfer.</p>
<p><strong>Start conversion</strong></p>
<p>Finally set ressel to select the precision of the data
conversion result. Finally set gben = 1 and
cvst = 1 to start the ADC to start conversion.</p>
<p>When the conversion is complete and needs to be converted again,
cvst needs to be set to 0 and then set to 1 in order
to trigger the conversion again.</p>
</section>
<section id="vbat-measurement">
<h3><span class="section-number">4.3.9. </span>VBAT measurement<a class="headerlink" href="#vbat-measurement" title="Permalink to this headline"></a></h3>
<p>The VBAT/2 measurement is the voltage of the chip VDD33,
not the voltage of an external battery such as a lithium battery.
If you need to measure the voltage of a power supply head such as
a lithium battery, you can divide the voltage and then input it
to the ADC’s GPIO analog channel. Measuring the voltage of VDD33
can reduce the use of GPIO.</p>
<p>The VBAT/2 voltage measured by the ADC module is after a
partial pressure.The actual input voltage to the ADC module is
half of VDD33, that is, VBAT/2 = VDD33/2. Because the voltage
is divided, in order to obtain higher accuracy, it is recommended
that the reference voltage of the ADC is 2V, single-ended mode
is used, the positive input voltage is VBAT/2, the negative
input voltage is GND, and vbaten is set to 1 to start.</p>
<p>After conversion, multiply the corresponding conversion result
by 2 to get the VDD33 voltage.</p>
</section>
<section id="tsen-measurement">
<h3><span class="section-number">4.3.10. </span>TSEN measurement<a class="headerlink" href="#tsen-measurement" title="Permalink to this headline"></a></h3>
<p>The ADC can measure the internal diode or external diode voltage
value, and the voltage difference between the diode and
temperature is related, so by measuring the voltage of the
diode, the ambient temperature can be calculated. We call it
Temperature Sensor, referred to as TSEN.</p>
<p>The test principle of TSEN is to generate a fitted curve by
measuring the voltage difference ΔV generated by two different
currents on a diode with temperature.</p>
<p>Regardless of the measurement of the external or internal diode, the final
output value is related to temperature, which can be expressed
as Δ(ADC_out) = 7.753T + X. When we know the voltage value,
we also know the temperature T. Here X is an offset value that
can be used as a standard value. Before actual use, we need to
determine X. The chip manufacturer will measure Δ(ADC_out) at
a standard temperature, such as 25 degrees at room temperature,
before the chip leaves the factory to get X.</p>
<p>When the user uses it, as long as the formula
T = [Δ(ADC_out) -X]/7.753, the temperature T can be obtained.</p>
<p>When using TSEN, it is recommended to set the ADC to 16Bits mode,
reduce the error by multiple sampling, and select 2V as the
reference voltage to improve accuracy. Set tsen to 1 to
enable the TSEN function. If the internal diode is selected,
tsxten = 0. External diode, tsxten = 1,
select the forward input channel according to the actual
situation.</p>
<p>If it is an internal diode, select the TSEN channel.
If it is external, select the corresponding analog GPIO channel.
Select the negative input terminal as GND. After the above
settings are completed, set tsdc = 0 to start the
measurement and get the measurement result V0, then set
tsdc = 1 to start the measurement and get the
measurement result V1, Δ(ADC_out) = V1-V0, according to the
formula T = [Δ(ADC_out) -X] /7.753 to obtain the temperature T.</p>
</section>
</section>
<section id="register-description">
<h2><span class="section-number">4.4. </span>Register description<a class="headerlink" href="#register-description" title="Permalink to this headline"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-config">gpadc_config</a></p></td>
<td><p>GPADC configuration</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-dma-rdata">gpadc_dma_rdata</a></p></td>
<td><p>GPADC DMA read data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpdac-config">gpdac_config</a></p></td>
<td><p>GPDAC configuration</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpdac-dma-config">gpdac_dma_config</a></p></td>
<td><p>GPDAC dma configuration</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpdac-dma-wdata">gpdac_dma_wdata</a></p></td>
<td><p>GPDAC dma write data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-cmd">gpadc_reg_cmd</a></p></td>
<td><p>GPADC register configuration 0</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-reg-config1">gpadc_reg_config1</a></p></td>
<td><p>GPADC register configuration 1</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-config2">gpadc_reg_config2</a></p></td>
<td><p>GPADC register configuration 2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-reg-scn-pos1">gpadc_reg_scn_pos1</a></p></td>
<td><p>adc converation sequence 1</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-scn-pos2">gpadc_reg_scn_pos2</a></p></td>
<td><p>adc converation sequence 2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-reg-scn-neg1">gpadc_reg_scn_neg1</a></p></td>
<td><p>adc converation sequence 3</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-scn-neg2">gpadc_reg_scn_neg2</a></p></td>
<td><p>adc converation sequence 4</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-reg-status">gpadc_reg_status</a></p></td>
<td><p>GPADC register status</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-isr">gpadc_reg_isr</a></p></td>
<td><p>GPADC register operation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gpadc-reg-raw-result">gpadc_reg_raw_result</a></p></td>
<td><p>GPADC register raw result</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gpadc-reg-define">gpadc_reg_define</a></p></td>
<td><p>GPADC register define</p></td>
</tr>
</tbody>
</table>
<section id="gpadc-config">
<h3><span class="section-number">4.4.1. </span>gpadc_config<a class="headerlink" href="#gpadc-config" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x40002000</p>
<figure class="align-center">
<img alt="../_images/gpip_gpadc_config.svg" src="../_images/gpip_gpadc_config.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:24</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="5"><p>23:22</p></td>
<td rowspan="5"><p>gpadc_fifo_thl</p></td>
<td rowspan="5"><p>r/w</p></td>
<td rowspan="5"><p>2’d0</p></td>
<td rowspan="5"><p>fifo threshold</p>
<p>2’b00: 1 data</p>
<p>2’b01: 4 data</p>
<p>2’b10: 8 data</p>
<p>2’b11: 16 data</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>21:16</p></td>
<td><p>gpadc_fifo_data_count</p></td>
<td><p>r</p></td>
<td><p>6’d0</p></td>
<td><p>fifo data number</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>gpadc_fifo_rdy_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’b1</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>gpadc_fifo_underrun_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>gpadc_fifo_overrun_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>gpadc_rdy_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>gpadc_fifo_underrun_clr</p></td>
<td><p>w1c</p></td>
<td><p>1’b0</p></td>
<td><p>Write 1 to clear flag</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>gpadc_fifo_overrun_clr</p></td>
<td><p>w1c</p></td>
<td><p>1’b0</p></td>
<td><p>Write 1 to clear flag</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>gpadc_rdy_clr</p></td>
<td><p>w1c</p></td>
<td><p>1’b0</p></td>
<td><p>Write 1 to clear flag</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>gpadc_fifo_rdy</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO ready interrupt flag</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>gpadc_fifo_underrun</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO underrun interrupt flag</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>gpadc_fifo_overrun</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO overrun interrupt flag</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>gpadc_rdy</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>Conversion data ready interrupt flag</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>gpadc_fifo_full</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO full flag</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>gpadc_fifo_ne</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO not empty flag</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>gpadc_fifo_clr</p></td>
<td><p>w1c</p></td>
<td><p>1’b0</p></td>
<td><p>FIFO clear signal</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>gpadc_dma_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>GPADC DMA enbale</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-dma-rdata">
<h3><span class="section-number">4.4.2. </span>gpadc_dma_rdata<a class="headerlink" href="#gpadc-dma-rdata" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x40002004</p>
<figure class="align-center">
<img alt="../_images/gpip_gpadc_dma_rdata.svg" src="../_images/gpip_gpadc_dma_rdata.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:26</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>25:0</p></td>
<td><p>gpadc_dma_rdata</p></td>
<td><p>r</p></td>
<td><p>26’d0</p></td>
<td><p>GPADC finial conversion result stored in the FIFO</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpdac-config">
<h3><span class="section-number">4.4.3. </span>gpdac_config<a class="headerlink" href="#gpdac-config" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x40002040</p>
<figure class="align-center">
<img alt="../_images/gpip_gpdac_config.svg" src="../_images/gpip_gpdac_config.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:24</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="7"><p>23:20</p></td>
<td rowspan="7"><p>gpdac_ch_b_sel</p></td>
<td rowspan="7"><p>r/w</p></td>
<td rowspan="7"><p>0</p></td>
<td rowspan="7"><p>Channel B Source Select</p>
<p>0: Reg</p>
<p>1: DMA</p>
<p>2: DMA + Filter</p>
<p>3: Sin Gen</p>
<p>4: A (The same as channel A)</p>
<p>5: ~A (Inverse of channel A)</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="5"><p>19:16</p></td>
<td rowspan="5"><p>gpdac_ch_a_sel</p></td>
<td rowspan="5"><p>r/w</p></td>
<td rowspan="5"><p>0</p></td>
<td rowspan="5"><p>Channel A Source Select</p>
<p>0: Reg</p>
<p>1: DMA</p>
<p>2: DMA + Filter</p>
<p>3: Sin Gen</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>15:11</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>10:8</p></td>
<td><p>gpdac_mode</p></td>
<td><p>r/w</p></td>
<td><p>0</p></td>
<td><p>0:32k, 1:16k, 3:8k,  4:512k(for DMA only)</p></td>
</tr>
<tr class="row-odd"><td><p>7:6</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5:4</p></td>
<td><p>dsm_mode</p></td>
<td><p>r/w</p></td>
<td><p>0</p></td>
<td><p>0:bypass, 1:dsm order=1, 2: dsm order=2</p></td>
</tr>
<tr class="row-odd"><td><p>3:2</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>gpdac_en2</p></td>
<td><p>r/w</p></td>
<td><p>0</p></td>
<td><p>GPDAC enable 2 (for B channel)</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>gpdac_en</p></td>
<td><p>r/w</p></td>
<td><p>0</p></td>
<td><p>GPDAC enable</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpdac-dma-config">
<h3><span class="section-number">4.4.4. </span>gpdac_dma_config<a class="headerlink" href="#gpdac-dma-config" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x40002044</p>
<figure class="align-center">
<img alt="../_images/gpip_gpdac_dma_config.svg" src="../_images/gpip_gpdac_dma_config.svg" /></figure>
</section>
<section id="gpdac-dma-wdata">
<h3><span class="section-number">4.4.5. </span>gpdac_dma_wdata<a class="headerlink" href="#gpdac-dma-wdata" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x40002048</p>
<figure class="align-center">
<img alt="../_images/gpip_gpdac_dma_wdata.svg" src="../_images/gpip_gpdac_dma_wdata.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:0</p></td>
<td><p>gpdac_dma_wdata</p></td>
<td><p>w</p></td>
<td><p>x</p></td>
<td><p>GPDAC DMA TX data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-cmd">
<h3><span class="section-number">4.4.6. </span>gpadc_reg_cmd<a class="headerlink" href="#gpadc-reg-cmd" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f90c</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_cmd.svg" src="../_images/AON_gpadc_reg_cmd.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>30</p></td>
<td><p>gpadc_sen_test_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>enable sensor dc test mux</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>29:28</p></td>
<td rowspan="5"><p>gpadc_sen_sel</p></td>
<td rowspan="5"><p>r/w</p></td>
<td rowspan="5"><p>2’h0</p></td>
<td rowspan="5"><p>selected output current channel and measurement channel</p>
<p>2’h0: 1st channel</p>
<p>2’h1: 2nd channel</p>
<p>2’h2: 3rd channel</p>
<p>2’h3: 4th channel</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>27</p></td>
<td rowspan="3"><p>gpadc_chip_sen_pu</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>enable chip sensor test</p>
<p>1’b0: disable</p>
<p>1’b1: enable</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>26:24</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>23</p></td>
<td rowspan="3"><p>gpadc_micboost_32db_en</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>micboost 32db enable</p>
<p>1’b0: 16dB</p>
<p>1’b1: 32dB</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="5"><p>22:21</p></td>
<td rowspan="5"><p>gpadc_mic_pga2_gain</p></td>
<td rowspan="5"><p>r/w</p></td>
<td rowspan="5"><p>2’h0</p></td>
<td rowspan="5"><p>mic_pga2_gain</p>
<p>2’h0: 0dB</p>
<p>2’h1: 6dB</p>
<p>2’h2: -6dB</p>
<p>2’h3: 12dB</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>20</p></td>
<td rowspan="3"><p>gpadc_mic1_diff</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>mic1 diff enable</p>
<p>1’b0: single</p>
<p>1’b1: diff</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>19</p></td>
<td rowspan="3"><p>gpadc_mic2_diff</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>mic2 diff enable</p>
<p>1’b0: single</p>
<p>1’b1: diff</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>18</p></td>
<td rowspan="3"><p>gpadc_dwa_en</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>dwa enable</p>
<p>1’b0: dwa disable</p>
<p>1’b1: dwa enable</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>16</p></td>
<td rowspan="3"><p>gpadc_byp_micboost</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>micboost amp bypass</p>
<p>1’b0: not bypass</p>
<p>1’b1: bypass</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>15</p></td>
<td rowspan="3"><p>gpadc_micpga_en</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>micpga enable</p>
<p>1’b0: micpga disable</p>
<p>1’b1: miapga enable</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="3"><p>14</p></td>
<td rowspan="3"><p>gpadc_micbias_en</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>enable micbias</p>
<p>1’b0: micbias power down</p>
<p>1’b1: miabias power on</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="3"><p>13</p></td>
<td rowspan="3"><p>gpadc_neg_gnd</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>set negative input of adc to ground</p>
<p>1’b0: disable</p>
<p>1’b1: enable</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="25"><p>12:8</p></td>
<td rowspan="25"><p>gpadc_pos_sel</p></td>
<td rowspan="25"><p>r/w</p></td>
<td rowspan="25"><p>5’hf</p></td>
<td rowspan="25"><p>select adc positive input in none-scan mode</p>
<p>5‘h0 gpio0</p>
<p>5’h1 gpio1</p>
<p>5’h2 gpio2</p>
<p>5‘h3 gpio3</p>
<p>5’h4 gpio4</p>
<p>5’h5 gpio5</p>
<p>5‘h6 gpio6</p>
<p>5’h7 gpio7</p>
<p>5’h8 gpio8</p>
<p>5‘h9 gpio9</p>
<p>5’h10 gpio10</p>
<p>5’h11 gpio11</p>
<p>5‘h12 daca</p>
<p>5’h13 dacb</p>
<p>5’h14 temp_p</p>
<p>5‘h15 temp_n</p>
<p>5’h16 vref</p>
<p>5’h17 atest</p>
<p>5‘h18 vbat/2</p>
<p>5’h19 vp3_diode</p>
<p>5’h20 vp2_diode</p>
<p>5‘h21 vp1_diode</p>
<p>5’h22 vp0_diode</p>
<p>5’h23~31 avss</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="25"><p>7:3</p></td>
<td rowspan="25"><p>gpadc_neg_sel</p></td>
<td rowspan="25"><p>r/w</p></td>
<td rowspan="25"><p>5’hf</p></td>
<td rowspan="25"><p>select adc positive input in none-scan mode</p>
<p>5‘h0 gpio0</p>
<p>5’h1 gpio1</p>
<p>5’h2 gpio2</p>
<p>5‘h3 gpio3</p>
<p>5’h4 gpio4</p>
<p>5’h5 gpio5</p>
<p>5‘h6 gpio6</p>
<p>5’h7 gpio7</p>
<p>5’h8 gpio8</p>
<p>5‘h9 gpio9</p>
<p>5’h10 gpio10</p>
<p>5’h11 gpio11</p>
<p>5‘h12 daca</p>
<p>5’h13 dacb</p>
<p>5’h14 temp_p</p>
<p>5‘h15 temp_n</p>
<p>5’h16 vref</p>
<p>5’h17 atest</p>
<p>5‘h18 vbat/2</p>
<p>5’h19 vn3_diode</p>
<p>5’h20 vn2_diode</p>
<p>5‘h21 vn1_diode</p>
<p>5’h22 vn0_diode</p>
<p>5’h23~31 avss</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>gpadc_soft_rst</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>user reset the whole block 1’h0: not reset  1’h1: reset</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>gpadc_conv_start</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: stop converation  1’h1: start converation</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>gpadc_global_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: disable ADC  1’h1: enable ADC</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-config1">
<h3><span class="section-number">4.4.7. </span>gpadc_reg_config1<a class="headerlink" href="#gpadc-reg-config1" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f910</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_config1.svg" src="../_images/AON_gpadc_reg_config1.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>30:29</p></td>
<td><p>gpadc_v18_sel</p></td>
<td><p>r/w</p></td>
<td><p>2’h0</p></td>
<td><p>internal vdd18 select</p></td>
</tr>
<tr class="row-even"><td><p>28:27</p></td>
<td><p>gpadc_v11_sel</p></td>
<td><p>r/w</p></td>
<td><p>2’h0</p></td>
<td><p>internal vdd11 select</p></td>
</tr>
<tr class="row-odd"><td><p>26</p></td>
<td><p>gpadc_dither_en</p></td>
<td><p>r/w</p></td>
<td><p>1’h0</p></td>
<td><p>Dither compensation enable</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p>gpadc_scan_en</p></td>
<td><p>r/w</p></td>
<td><p>1’h0</p></td>
<td><p>select scan mode enable: 0: select  gpadc_pos/neg_sel;1: select  : select gpadc_scan_pos_x and gpadc_scan_neg_x</p></td>
</tr>
<tr class="row-odd"><td rowspan="13"><p>24:21</p></td>
<td rowspan="13"><p>gpadc_scan_length</p></td>
<td rowspan="13"><p>r/w</p></td>
<td rowspan="13"><p>4’h0</p></td>
<td rowspan="13"><p>select scan mode length</p>
<p>4’b0000 : select gpadc_scan_pos_0 and gpadc_scan_neg_0</p>
<p>4’b0001 : select gpadc_scan_pos_1 and gpadc_scan_neg_1</p>
<p>4’b0010 : select gpadc_scan_pos_2 and gpadc_scan_neg_2</p>
<p>4’b0011 : select gpadc_scan_pos_3 and gpadc_scan_neg_3</p>
<p>4’b0100 : select gpadc_scan_pos_4 and gpadc_scan_neg_4</p>
<p>4’b0101 : select gpadc_scan_pos_5 and gpadc_scan_neg_5</p>
<p>4’b0110 : select gpadc_scan_pos_6 and gpadc_scan_neg_6</p>
<p>4’b0111 : select gpadc_scan_pos_7 and gpadc_scan_neg_7</p>
<p>4’b1000 : select gpadc_scan_pos_8 and gpadc_scan_neg_8</p>
<p>4’b1001 : select gpadc_scan_pos_9 and gpadc_scan_neg_9</p>
<p>4’b1010 : select gpadc_scan_pos_10 and gpadc_scan_neg_10</p>
<p>4’b1011 : select gpadc_scan_pos_11 and gpadc_scan_neg_11</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="9"><p>20:18</p></td>
<td rowspan="9"><p>gpadc_clk_div_ratio</p></td>
<td rowspan="9"><p>r/w</p></td>
<td rowspan="9"><p>3’h3</p></td>
<td rowspan="9"><p>analog 32M clock division ratio</p>
<p>3’b000: div=1</p>
<p>3’b001: div=4</p>
<p>3’b010: div=8</p>
<p>3’b011: div=12</p>
<p>3’b100: div=16</p>
<p>3’b101: div=20</p>
<p>3’b110: div=24</p>
<p>3’b111: div=32</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>gpadc_clk_ana_inv</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>analog clock 2M inverted</p></td>
</tr>
<tr class="row-even"><td><p>16:11</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>gpadc_lowv_det_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>Low power supply detected enable</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>gpadc_vcm_hyst_sel</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>pga vcm hystersis select when vcm_sel_en is enabled</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>gpadc_vcm_sel_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>pga vcm selected when lowv_det_en is enable</p></td>
</tr>
<tr class="row-even"><td><p>7:5</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="6"><p>4:2</p></td>
<td rowspan="6"><p>gpadc_res_sel</p></td>
<td rowspan="6"><p>r/w</p></td>
<td rowspan="6"><p>3’h0</p></td>
<td rowspan="6"><p>adc resolution/over-sample rate select</p>
<p>3’b000    12bit 2MS/s, OSR=1</p>
<p>3’b001    14bit 125kS/s, OSR=16</p>
<p>3’b010    14bit 31.25kS/s, OSR=64</p>
<p>3’b011    16bit 15.625KS/s, OSR=128 (voice mode16KS/s)</p>
<p>3’b100    16bit 7.8125KS/s, OSR=256 (voice mode 8KS/s)</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>1</p></td>
<td rowspan="2"><p>gpadc_cont_conv_en</p></td>
<td rowspan="2"><p>r/w</p></td>
<td rowspan="2"><p>1’b1</p></td>
<td rowspan="2"><p>To enable continuous conversion</p>
<p>1’h0: one shot conversion  1’h1: continuous conversion</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>gpadc_cal_os_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>offset calibration enable</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-config2">
<h3><span class="section-number">4.4.8. </span>gpadc_reg_config2<a class="headerlink" href="#gpadc-reg-config2" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f914</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_config2.svg" src="../_images/AON_gpadc_reg_config2.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31</p></td>
<td><p>gpadc_tsvbe_low</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>tsen diode current</p></td>
</tr>
<tr class="row-odd"><td><p>30:28</p></td>
<td><p>gpadc_dly_sel</p></td>
<td><p>r/w</p></td>
<td><p>3’h0</p></td>
<td><p>adc conversion speed</p></td>
</tr>
<tr class="row-even"><td rowspan="8"><p>27:25</p></td>
<td rowspan="8"><p>gpadc_pga1_gain</p></td>
<td rowspan="8"><p>r/w</p></td>
<td rowspan="8"><p>3’h0</p></td>
<td rowspan="8"><p>3’h0: disable</p>
<p>3’h1: gain=1</p>
<p>3’h2: gain=2</p>
<p>3’h3: gain=4</p>
<p>3’h4: gain=8</p>
<p>3’h5: gain=16</p>
<p>3’h6: gain=32</p>
<p>3’h7: gain=32</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="8"><p>24:22</p></td>
<td rowspan="8"><p>gpadc_pga2_gain</p></td>
<td rowspan="8"><p>r/w</p></td>
<td rowspan="8"><p>3’h0</p></td>
<td rowspan="8"><p>3’h0: disable</p>
<p>3’h1: gain=1</p>
<p>3’h2: gain=2</p>
<p>3’h3: gain=4</p>
<p>3’h4: gain=8</p>
<p>3’h5: gain=16</p>
<p>3’h6: gain=32</p>
<p>3’h7: gain=32</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>21:19</p></td>
<td><p>gpadc_test_sel</p></td>
<td><p>r/w</p></td>
<td><p>3’h0</p></td>
<td><p>select test point 0~7</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>gpadc_test_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>Analog test enable.</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>17</p></td>
<td rowspan="3"><p>gpadc_bias_sel</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>adc analog portion low power mode select</p>
<p>1’h0: bandgap system</p>
<p>1’h1:aon bandgap</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="4"><p>16:15</p></td>
<td rowspan="4"><p>gpadc_chop_mode</p></td>
<td rowspan="4"><p>r/w</p></td>
<td rowspan="4"><p>2’h3</p></td>
<td rowspan="4"><p>2’b11    all  off</p>
<p>2’b11    Vref AZ on</p>
<p>2’b11    Vref AZ and PGA chop on</p>
<p>2’b11    Vref AZ and PGA chop+RPC on</p>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>gpadc_pga_vcmi_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>enable pga input vcm bias</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>gpadc_pga_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: disable PGA 1’h1 enable PGA</p></td>
</tr>
<tr class="row-odd"><td><p>12:9</p></td>
<td><p>gpadc_pga_os_cal</p></td>
<td><p>r/w</p></td>
<td><p>4’h8</p></td>
<td><p>pga offset calibration</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>8:7</p></td>
<td rowspan="5"><p>gpadc_pga_vcm</p></td>
<td rowspan="5"><p>r/w</p></td>
<td rowspan="5"><p>2’h2</p></td>
<td rowspan="5"><p>Audio PGA output common mode control</p>
<p>2’b00: cm=1.3V</p>
<p>2’b11: cm=1.4V</p>
<p>2’b11: cm=1.5V</p>
<p>2’b11: cm=1.6V</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>gpadc_ts_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: disable temperature sensor 1’h1: enable temperature sensor</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>gpadc_tsext_sel</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: internal diode mode  1’h1: external diode mode</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>gpadc_vbat_en</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0: disable VBAT sensor 1’h1 enable VBAT sensor</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>3</p></td>
<td rowspan="3"><p>gpadc_vref_sel</p></td>
<td rowspan="3"><p>r/w</p></td>
<td rowspan="3"><p>1’b0</p></td>
<td rowspan="3"><p>ADC reference select</p>
<p>1’h0 3.2V</p>
<p>1’h1 2.0V</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>gpadc_diff_mode</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>1’h0 single-ended 1’h1 differential</p></td>
</tr>
<tr class="row-even"><td><p>1:0</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-scn-pos1">
<h3><span class="section-number">4.4.9. </span>gpadc_reg_scn_pos1<a class="headerlink" href="#gpadc-reg-scn-pos1" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f918</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_scn_pos1.svg" src="../_images/AON_gpadc_reg_scn_pos1.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:30</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>29:25</p></td>
<td><p>gpadc_scan_pos_5</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>24:20</p></td>
<td><p>gpadc_scan_pos_4</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-odd"><td><p>19:15</p></td>
<td><p>gpadc_scan_pos_3</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>14:10</p></td>
<td><p>gpadc_scan_pos_2</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-odd"><td><p>9:5</p></td>
<td><p>gpadc_scan_pos_1</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>4:0</p></td>
<td><p>gpadc_scan_pos_0</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-scn-pos2">
<h3><span class="section-number">4.4.10. </span>gpadc_reg_scn_pos2<a class="headerlink" href="#gpadc-reg-scn-pos2" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f91c</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_scn_pos2.svg" src="../_images/AON_gpadc_reg_scn_pos2.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:30</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>29:25</p></td>
<td><p>gpadc_scan_pos_11</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>24:20</p></td>
<td><p>gpadc_scan_pos_10</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-odd"><td><p>19:15</p></td>
<td><p>gpadc_scan_pos_9</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>14:10</p></td>
<td><p>gpadc_scan_pos_8</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-odd"><td><p>9:5</p></td>
<td><p>gpadc_scan_pos_7</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
<tr class="row-even"><td><p>4:0</p></td>
<td><p>gpadc_scan_pos_6</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_pos_sel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-scn-neg1">
<h3><span class="section-number">4.4.11. </span>gpadc_reg_scn_neg1<a class="headerlink" href="#gpadc-reg-scn-neg1" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f920</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_scn_neg1.svg" src="../_images/AON_gpadc_reg_scn_neg1.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:30</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>29:25</p></td>
<td><p>gpadc_scan_neg_5</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>24:20</p></td>
<td><p>gpadc_scan_neg_4</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-odd"><td><p>19:15</p></td>
<td><p>gpadc_scan_neg_3</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>14:10</p></td>
<td><p>gpadc_scan_neg_2</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-odd"><td><p>9:5</p></td>
<td><p>gpadc_scan_neg_1</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>4:0</p></td>
<td><p>gpadc_scan_neg_0</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-scn-neg2">
<h3><span class="section-number">4.4.12. </span>gpadc_reg_scn_neg2<a class="headerlink" href="#gpadc-reg-scn-neg2" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f924</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_scn_neg2.svg" src="../_images/AON_gpadc_reg_scn_neg2.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:30</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>29:25</p></td>
<td><p>gpadc_scan_neg_11</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>24:20</p></td>
<td><p>gpadc_scan_neg_10</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-odd"><td><p>19:15</p></td>
<td><p>gpadc_scan_neg_9</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>14:10</p></td>
<td><p>gpadc_scan_neg_8</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-odd"><td><p>9:5</p></td>
<td><p>gpadc_scan_neg_7</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
<tr class="row-even"><td><p>4:0</p></td>
<td><p>gpadc_scan_neg_6</p></td>
<td><p>r/w</p></td>
<td><p>5’hf</p></td>
<td><p>definition is the same as adc_reg_cmd.adc_neg_sel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-status">
<h3><span class="section-number">4.4.13. </span>gpadc_reg_status<a class="headerlink" href="#gpadc-reg-status" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f928</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_status.svg" src="../_images/AON_gpadc_reg_status.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:16</p></td>
<td><p>gpadc_reserved</p></td>
<td><p>r/w</p></td>
<td><p>16’h0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>15:1</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>gpadc_data_rdy</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>ADC final conversion data ready</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-isr">
<h3><span class="section-number">4.4.14. </span>gpadc_reg_isr<a class="headerlink" href="#gpadc-reg-isr" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f92c</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_isr.svg" src="../_images/AON_gpadc_reg_isr.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:10</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>gpadc_pos_satur_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’h0</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>gpadc_neg_satur_mask</p></td>
<td><p>r/w</p></td>
<td><p>1’h0</p></td>
<td><p>write 1 mask</p></td>
</tr>
<tr class="row-odd"><td><p>7:6</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>gpadc_pos_satur_clr</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>Write 1 to clear flag</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>gpadc_neg_satur_clr</p></td>
<td><p>r/w</p></td>
<td><p>1’b0</p></td>
<td><p>Write 1 to clear flag</p></td>
</tr>
<tr class="row-even"><td><p>3:2</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>gpadc_pos_satur</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>ADC data positive side saturation interrupt flag</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>gpadc_neg_satur</p></td>
<td><p>r</p></td>
<td><p>1’b0</p></td>
<td><p>ADC data negative side saturation interrupt flag</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-raw-result">
<h3><span class="section-number">4.4.15. </span>gpadc_reg_raw_result<a class="headerlink" href="#gpadc-reg-raw-result" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f934</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_raw_result.svg" src="../_images/AON_gpadc_reg_raw_result.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:12</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>11:0</p></td>
<td><p>gpadc_raw_data</p></td>
<td><p>r</p></td>
<td><p>12’h0</p></td>
<td><p>ADC Raw data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gpadc-reg-define">
<h3><span class="section-number">4.4.16. </span>gpadc_reg_define<a class="headerlink" href="#gpadc-reg-define" title="Permalink to this headline"></a></h3>
<p><strong>Address：</strong>  0x4000f938</p>
<figure class="align-center">
<img alt="../_images/AON_gpadc_reg_define.svg" src="../_images/AON_gpadc_reg_define.svg" /></figure>
<table class="colwidths-given docutils align-center" style="width: 100%">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Reset</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>31:16</p></td>
<td><p>RSVD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>15:0</p></td>
<td><p>gpadc_os_cal_data</p></td>
<td><p>r/w</p></td>
<td><p>16’h0</p></td>
<td><p>User defined or self calculated offset data 16-bit signed</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="GLB.html" class="btn btn-neutral float-left" title="3. GLB" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DAC.html" class="btn btn-neutral float-right" title="5. DAC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>